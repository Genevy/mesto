(()=>{"use strict";var t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__save-button",inputErrorClass:"form__input_type_error",inputErrorActive:"form__input-error_active"},e=document.querySelector(".popup_type_edit"),r=document.querySelector(".profile__edit-button"),n=e.querySelector(".form"),o=e.querySelector(".form__input_type_user-name"),i=e.querySelector(".form__input_type_about"),u=document.querySelector(".popup_type_avatar").querySelector(".form"),a=document.querySelector(".profile__avatar"),c=document.querySelector(".popup_type_card"),l=document.querySelector(".profile__add-button"),s=c.querySelector(".form");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}var y=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cardData=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._cardSelector=r,this._handleCardClick=n.onClick,this._handleCardLike=n.onLike,this._handleCardDelete=n.onDelete}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){this._element=this._getTemplate();var t=this._element.querySelector(".card__photo");return t.src=this._link,t.alt=this._name,this._cardPhoto=t,this._element.querySelector(".card__title").textContent=this._name,this._buttonLike=this._element.querySelector(".card__button-like"),this._likeCounter=this._element.querySelector(".card__like-counter"),this._likeCounter.textContent=this._likes.length,this._buttonTrash=this._element.querySelector(".card__recycle-bin"),this._isOwnerCard()||this._buttonTrash.remove(),this.toogleButtonLike(),this._setEventListeners(),this._element}},{key:"_isOwnerCard",value:function(){return this._cardData.currentUser._id===this._cardData.owner._id}},{key:"isLike",value:function(){var t=this;return this._cardData.likes.some((function(e){return e._id===t._cardData.currentUser._id}))}},{key:"toogleButtonLike",value:function(){this.isLike()?this._buttonLike.classList.add("card__button-like_active"):this._buttonLike.classList.remove("card__button-like_active")}},{key:"_handleLike",value:function(){var t=this;this._handleCardLike(this._cardData,(function(e){t._cardData.likes=e,t.toogleButtonLike(),t._likeCounter.textContent=t._cardData.likes.length}))}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null,this._cardPhoto=null,this._buttonLike=null,this._buttonTrash=null}},{key:"_setEventListeners",value:function(){var t=this;this._cardPhoto.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)})),this._buttonLike.addEventListener("click",(function(){t._handleLike()})),this._buttonTrash.addEventListener("click",(function(){t._handleCardDelete(t._cardData,(function(){t._deleteCard()}))}))}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}var d=function(){function t(e,r){var n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=n,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(t){var e=this;t.reverse().forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}var _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._overlayClose=this._overlayClose.bind(this)}var e,r;return e=t,(r=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_overlayClose",value:function(t){t.target==t.currentTarget&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._overlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._overlayClose)}},{key:"setEventListeners",value:function(){var t=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){t.close()}))}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===S(o)?o:String(o)),n)}var o}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(this,arguments)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(o){var r=O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}(this,t)});function u(t){var e,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._popupImage=r._popup.querySelector(".popup__image"),r._popupImageTitle=r._popup.querySelector(".popup__image-caption"),E((e=w(r),O(u.prototype)),"setEventListeners",e).call(e),r}return e=u,(r=[{key:"open",value:function(t,e){this._popupImage.src=e,this._popupImage.alt=t,this._popupImageTitle.textContent=t,E(O(u.prototype),"open",this).call(this)}}])&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===j(o)?o:String(o)),n)}var o}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},C.apply(this,arguments)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(n);if(o){var r=T(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._form=r._popup.querySelector(".form"),r._formInputList=r._form.querySelectorAll(".form__input"),r._handleFormSubmit=e,r._submitButton=r._form.querySelector(".form__save-button"),r}return e=u,(r=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._formInputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;C(T(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(){var e=t._submitButton.textContent;t._submitButton.textContent="Сохранение...",t._submitForm(t._getInputValues()).then((function(){return t.close()})),t._submitButton.textContent=e}))}},{key:"close",value:function(){this._form.reset(),C(T(u.prototype),"close",this).call(this)}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},D.apply(this,arguments)}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=U(n);if(o){var r=U(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".form"),e._confirmStep=function(){},e}return e=u,(r=[{key:"setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t._confirmStep()})),D(U(u.prototype),"setEventListeners",this).call(this)}},{key:"setConfirmAction",value:function(t){this._confirmStep=t}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===V(o)?o:String(o)),n)}var o}var J=function(){function t(e){var r=e.userNameSelector,n=e.userJobSelector,o=e.userAvatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userNameSelector=document.querySelector(r),this._userJobSelector=document.querySelector(n),this._userAvatarSelector=document.querySelector(o),this._data={}}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return this._data}},{key:"setUserInfo",value:function(t){this._data=t,this._userNameSelector.textContent=t.name,this._userJobSelector.textContent=t.about}},{key:"setUserAvatar",value:function(t){this._data=t,this._userAvatarSelector.src=t.avatar}}])&&N(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H(n.key),n)}}function H(t){var e=function(t,e){if("object"!==M(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===M(e)?e:String(e)}var z=function(){function t(e,r){var n,o,i,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(){return u._inputList.some((function(t){return!t.validity.valid}))},(o=H(o="_hasInvalidInput"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this._validationParameters=e,this._formElement=r,this._buttonElement=this._formElement.querySelector(this._validationParameters.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._validationParameters.inputSelector))}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t,e){var r=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._validationParameters.inputErrorClass),r.textContent=e,r.classList.add(this._validationParameters.inputErrorActive)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._validationParameters.inputErrorClass),e.classList.remove(this._validationParameters.inputErrorActive),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.setAttribute("disabled",!0):this._buttonElement.removeAttribute("disabled")}},{key:"clearValidation",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))}))}}])&&F(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$(o)?o:String(o)),n)}var o}var K=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var e,r;return e=t,r=[{key:"_handleReply",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleReply)}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleReply)}},{key:"updateUserInfo",value:function(t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then(this._handleReply)}},{key:"addNewCard",value:function(t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then(this._handleReply)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"setLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then(this._handleReply)}},{key:"deleteLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"updateUserAvatar",value:function(t){var e=t.avatar;return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then(this._handleReply)}}],r&&G(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W=new z(t,n);W.enableValidation();var X=new z(t,s);X.enableValidation();var Y=new z(t,u);Y.enableValidation();var Z=new J({userNameSelector:".profile__name",userJobSelector:".profile__about",userAvatarSelector:".profile__image"}),tt=new I(".popup_type_edit",(function(t){var e=this,r=t.name,n=t.about;return it.updateUserInfo({name:r,about:n}).then((function(t){Z.setUserInfo(t),e.close()})).catch((function(t){console.log("ERROR",t)}))})),et=new P(".popup_type_image"),rt=new I(".popup_type_card",(function(t){return rt.setSavingMode(),it.addNewCard({name:t.name,link:t.link}).then((function(t){at.addItem(ut(t))})).catch((function(t){console.log("ERROR",t)}))})),nt=new I(".popup_type_avatar",(function(t){var e=t.avatar;return nt.setSavingMode(),it.updateUserAvatar({avatar:e}).then((function(t){Z.setUserAvatar(t)})).catch((function(t){console.log("ERROR",t)}))})),ot=new x(".popup_type_confirm"),it=new K({url:"https://mesto.nomoreparties.co/v1/cohort-61",headers:{"Content-Type":"application/json",authorization:"abeb6987-1131-4a8c-8e13-4ece746c8e7b"}});function ut(t){t.currentUser=Z.getUserInfo();var e=new y(t,"#card",{onClick:ct,onLike:function(t,r){e.isLike()?it.deleteLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("ERROR",t)})):it.setLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("ERROR",t)}))},onDelete:function(t,e){ot.open(),ot.setConfirmAction((function(){it.deleteCard(t._id).then((function(){ot.close(),e()})).catch((function(t){console.log("ERROR",t)}))}))}});return e.generateCard()}Promise.all([it.getUserInfo(),it.getAllCards()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];Z.setUserInfo(o),Z.setUserAvatar(o),at.renderItems(i)})).catch((function(t){console.log("ERROR",t)}));var at=new d({renderer:function(t){at.addItem(ut(t))}},".photo__list");function ct(t,e){et.open(t,e)}ot.setEventListeners(),tt.setEventListeners(),nt.setEventListeners(),rt.setEventListeners(),r.addEventListener("click",(function(){var t;W.toggleButtonState(),tt.open(),t=Z.getUserInfo(),o.value=t.name,i.value=t.about})),l.addEventListener("click",(function(){rt.open(),X.clearValidation()})),a.addEventListener("click",(function(){nt.open(),Y.clearValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWpCNEQsRUFBSW9GLEVBQUEsR0FBRTNJLEVBQUsySSxFQUFBLEdBQ2pCckMsRUFBWUssWUFBWXBELEdBQ3hCK0MsRUFBWW9CLGNBQWNuRSxHQUMxQjZELEdBQVl3QixZQUFZNUksRUFDMUIsSUFDQzRHLE9BQU8sU0FBQ0MsR0FDUEMsUUFBUUMsSUFBSyxRQUFTRixFQUN4QixJQThDRixJQUFNTyxHQUFjLElBQUkxSCxFQUFRLENBQzlCRyxTQUFVLFNBQUN4RCxHQUNUK0ssR0FBWUMsUUFBUUMsR0FBV2pMLEdBQ2pDLEdBQ0MsZ0JBRUgsU0FBU3lMLEdBQWdCbEwsRUFBTUUsR0FDN0JrSyxHQUFlcUIsS0FBS3pMLEVBQU1FLEVBQzVCLENBNkNBNkssR0FBZ0JrQixvQkFDaEJ0QyxHQUFpQnNDLG9CQUNqQnRCLEdBQWVzQixvQkFDZjVCLEdBQWE0QixvQkFFYmxOLEVBQXVCNEQsaUJBQWlCLFNBQVMsV0FoRGpELElBQ1F1SixFQWdETjVDLEVBQXlCcEIsb0JBQ3pCeUIsR0FBaUI4QixPQWpEWFMsRUFBV3hDLEVBQVlzQixjQUM3Qi9MLEVBQVU0QixNQUFRcUwsRUFBU2xNLEtBQzNCZCxFQUFTMkIsTUFBUXFMLEVBQVN0RixLQWlENUIsSUFFQXRILEVBQXFCcUQsaUJBQWlCLFNBQVMsV0FDN0MwSCxHQUFhb0IsT0FDYmpDLEVBQXFCMkMsaUJBQ3ZCLElBRUEvTSxFQUFPdUQsaUJBQWlCLFNBQVMsV0FDL0JnSSxHQUFlYyxPQUNmaEMsRUFBdUIwQyxpQkFDekIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnRzdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB2YWxpZGF0aW9uUGFyYW1ldGVycyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc2F2ZS1idXR0b24nLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgaW5wdXRFcnJvckFjdGl2ZTogJ2Zvcm1fX2lucHV0LWVycm9yX2FjdGl2ZSdcbn07XG5cbmNvbnN0IHByb2ZpbGVVc2VyID0ge1xuICB1c2VyTmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxuICB1c2VySm9iU2VsZWN0b3I6ICcucHJvZmlsZV9fYWJvdXQnLFxuICB1c2VyQXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9faW1hZ2UnXG59XG5cbmNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2VkaXQnKTtcbmNvbnN0IGJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcbmNvbnN0IGZvcm1FbGVtZW50UHJvZmlsZSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuY29uc3QgbmFtZUlucHV0ID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX3VzZXItbmFtZScpO1xuY29uc3Qgam9iSW5wdXQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfYWJvdXQnKTtcbmNvbnN0IHBvcHVwQWRkQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfYXZhdGFyJyk7XG5jb25zdCBmb3JtQWRkQXZhdGFyID0gcG9wdXBBZGRBdmF0YXIucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbmNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcbmNvbnN0IHBvcHVwQWRkTmV3Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2NhcmQnKTtcbmNvbnN0IGJ1dHRvbk9wZW5BZGROZXdDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcbmNvbnN0IGZvcm1FbGVtZW50Q2FyZCA9IHBvcHVwQWRkTmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuXG5jb25zdCBhcGlQYXJhbWV0ZXJzID0ge1xuICB1cmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgXCJhdXRob3JpemF0aW9uXCI6IFwiYWJlYjY5ODctMTEzMS00YThjLThlMTMtNGVjZTc0NmM4ZTdiXCIsXG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIHZhbGlkYXRpb25QYXJhbWV0ZXJzLFxuICBwcm9maWxlVXNlcixcbiAgcG9wdXBQcm9maWxlLFxuICBidXR0b25PcGVuUG9wdXBQcm9maWxlLFxuICBmb3JtRWxlbWVudFByb2ZpbGUsXG4gIG5hbWVJbnB1dCxcbiAgam9iSW5wdXQsXG4gIHBvcHVwQWRkTmV3Q2FyZCxcbiAgZm9ybUFkZEF2YXRhcixcbiAgYXZhdGFyLFxuICBidXR0b25PcGVuQWRkTmV3Q2FyZCxcbiAgZm9ybUVsZW1lbnRDYXJkLFxuICBhcGlQYXJhbWV0ZXJzXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGNhcmREYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZXIpIHtcbiAgICB0aGlzLl9jYXJkRGF0YSA9IGNhcmREYXRhO1xuICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gY2FyZERhdGEubGlrZXM7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZXIub25DbGljaztcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZXIub25MaWtlO1xuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVyLm9uRGVsZXRlO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgLmNvbnRlbnRcbiAgICAucXVlcnlTZWxlY3RvcignLmNhcmQnKVxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICBjb25zdCBjYXJkUGhvdG8gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19waG90bycpO1xuICAgIGNhcmRQaG90by5zcmMgPSB0aGlzLl9saW5rO1xuICAgIGNhcmRQaG90by5hbHQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fY2FyZFBob3RvID0gY2FyZFBob3RvO1xuXG4gICAgY29uc3QgY2FyZE5hbWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190aXRsZScpO1xuICAgIGNhcmROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX2J1dHRvbkxpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19idXR0b24tbGlrZScpO1xuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1jb3VudGVyJyk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5fYnV0dG9uVHJhc2ggPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19yZWN5Y2xlLWJpbicpO1xuXG4gICAgaWYoIXRoaXMuX2lzT3duZXJDYXJkKCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvblRyYXNoLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMudG9vZ2xlQnV0dG9uTGlrZSgpXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX2lzT3duZXJDYXJkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJkRGF0YS5jdXJyZW50VXNlci5faWQgPT09IHRoaXMuX2NhcmREYXRhLm93bmVyLl9pZFxuICB9XG5cbiAgaXNMaWtlKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJkRGF0YS5saWtlcy5zb21lKChpdGVtKSA9PiB7XG4gICAgICByZXR1cm4gaXRlbS5faWQgPT09IHRoaXMuX2NhcmREYXRhLmN1cnJlbnRVc2VyLl9pZFxuICAgIH0pXG4gIH1cblxuICB0b29nbGVCdXR0b25MaWtlKCkge1xuICAgIGlmICh0aGlzLmlzTGlrZSgpKSB7XG4gICAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2J1dHRvbi1saWtlX2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRfX2J1dHRvbi1saWtlX2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVMaWtlKCkge1xuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKFxuICAgICAgdGhpcy5fY2FyZERhdGEsXG4gICAgICAodXBkYXRlZExpa2UpID0+IHtcbiAgICAgICAgdGhpcy5fY2FyZERhdGEubGlrZXMgPSB1cGRhdGVkTGlrZTtcbiAgICAgICAgdGhpcy50b29nbGVCdXR0b25MaWtlKCk7XG4gICAgICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fY2FyZERhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgfSk7XG4gIH1cblxuICBfZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuX2NhcmRQaG90byA9IG51bGw7XG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IG51bGw7XG4gICAgdGhpcy5fYnV0dG9uVHJhc2ggPSBudWxsO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRQaG90by5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2J1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9idXR0b25UcmFzaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcy5fY2FyZERhdGEsICgpID0+IHtcbiAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZCgpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5yZXZlcnNlKCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oY2FyZEVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX292ZXJsYXlDbG9zZSA9IHRoaXMuX292ZXJsYXlDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgX292ZXJsYXlDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX292ZXJsYXlDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX292ZXJsYXlDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKTtcblxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pXG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKVxuICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtY2FwdGlvbicpO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICB0aGlzLl9mb3JtSW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19zYXZlLWJ1dHRvbicpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcblxuICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWV9KTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5pdGlhbFRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLmNsb3NlKCkpXG4gICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gaW5pdGlhbFRleHQ7XG4gICAgICAgIH0pXG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG5cbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZXRvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZXRvcik7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5fY29uZmlybVN0ZXAgPSAoKSA9PiB7fTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9jb25maXJtU3RlcCgpO1xuICAgIH0pO1xuXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldENvbmZpcm1BY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5fY29uZmlybVN0ZXAgPSBhY3Rpb247XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZVNlbGVjdG9yLCB1c2VySm9iU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3Rvcn0pIHtcbiAgICB0aGlzLl91c2VyTmFtZVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VySm9iU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckF2YXRhclNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyU2VsZWN0b3IpO1xuICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX3VzZXJOYW1lU2VsZWN0b3IudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fdXNlckpvYlNlbGVjdG9yLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoZGF0YSkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX3VzZXJBdmF0YXJTZWxlY3Rvci5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uUGFyYW1ldGVycywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycyA9IHZhbGlkYXRpb25QYXJhbWV0ZXJzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5pbnB1dFNlbGVjdG9yKSk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuaW5wdXRFcnJvckFjdGl2ZSk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuaW5wdXRFcnJvckFjdGl2ZSk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1cblxuICBjbGVhclZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoYXBpUGFyYW1ldGVycykge1xuICAgIHRoaXMuX3VybCA9IGFwaVBhcmFtZXRlcnMudXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBhcGlQYXJhbWV0ZXJzLmhlYWRlcnM7XG4gIH1cblxuICBfaGFuZGxlUmVwbHkocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBnZXRBbGxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICB1cGRhdGVVc2VySW5mbyhkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5hYm91dCB9KVxuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgYWRkTmV3Q2FyZChjYXJkRGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogY2FyZERhdGEubmFtZSwgbGluazogY2FyZERhdGEubGluayB9KVxuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgZGVsZXRlQ2FyZChpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgc2V0TGlrZShpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9L2xpa2VzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgZGVsZXRlTGlrZShpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9L2xpa2VzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgdXBkYXRlVXNlckF2YXRhcih7IGF2YXRhciB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhciB9KVxuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG59IiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQge1xuICB2YWxpZGF0aW9uUGFyYW1ldGVycyxcbiAgcHJvZmlsZVVzZXIsXG4gIGJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUsXG4gIGZvcm1FbGVtZW50UHJvZmlsZSxcbiAgbmFtZUlucHV0LFxuICBqb2JJbnB1dCxcbiAgZm9ybUFkZEF2YXRhcixcbiAgYXZhdGFyLFxuICBidXR0b25PcGVuQWRkTmV3Q2FyZCxcbiAgZm9ybUVsZW1lbnRDYXJkLFxuICBhcGlQYXJhbWV0ZXJzXG59IGZyb20gJy4uL3V0aWxzL2NvbnRzdGFudHMuanMnO1xuXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuXG5jb25zdCBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAodmFsaWRhdGlvblBhcmFtZXRlcnMsIGZvcm1FbGVtZW50UHJvZmlsZSk7XG5lZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAodmFsaWRhdGlvblBhcmFtZXRlcnMsIGZvcm1FbGVtZW50Q2FyZCk7XG5hZGRDYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCBhZGRBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IgKHZhbGlkYXRpb25QYXJhbWV0ZXJzLCBmb3JtQWRkQXZhdGFyKTtcbmFkZEF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCB1c2VyUHJvZmlsZSA9IG5ldyBVc2VySW5mbyhwcm9maWxlVXNlcik7XG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2VkaXQnLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XG5jb25zdCBwb3B1cE9wZW5JbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3R5cGVfaW1hZ2UnKTtcbmNvbnN0IHBvcHVwQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9jYXJkJywgYWRkSW1hZ2VGb3JtU3VibWl0KTtcbmNvbnN0IHBvcHVwQWRkQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2F2YXRhcicsIGNoYW5nZUF2YXRhckZvcm1TdWJtaXQpO1xuY29uc3QgcG9wdXBEZWxldGVDYXJkID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oJy5wb3B1cF90eXBlX2NvbmZpcm0nKTtcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpUGFyYW1ldGVycyk7XG5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEFsbENhcmRzKCldKVxuICAudGhlbigoW2RhdGEsIGl0ZW1zXSkgPT4ge1xuICAgIHVzZXJQcm9maWxlLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgIHVzZXJQcm9maWxlLnNldFVzZXJBdmF0YXIoZGF0YSk7XG4gICAgY2FyZHNHYWxlZ3kucmVuZGVySXRlbXMoaXRlbXMpO1xuICB9KVxuICAuY2F0Y2ggKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyAoJ0VSUk9SJywgZXJyKTtcbiAgfSlcblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xuICBjYXJkRGF0YS5jdXJyZW50VXNlciA9IHVzZXJQcm9maWxlLmdldFVzZXJJbmZvKCk7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YSwgJyNjYXJkJywge1xuICAgIG9uQ2xpY2s6IGhhbmRsZUNhcmRDbGljayxcblxuICAgIG9uTGlrZTogKGN1cnJlbnRDYXJkRGF0YSwgbGlrZUNhbGxiYWNrKSA9PiB7XG4gICAgICBpZiAoY2FyZC5pc0xpa2UoKSkge1xuICAgICAgICBhcGlcbiAgICAgICAgICAuZGVsZXRlTGlrZShjdXJyZW50Q2FyZERhdGEuX2lkKVxuICAgICAgICAgIC50aGVuKCh1cGRhdGVkQ2FyZCkgPT4gbGlrZUNhbGxiYWNrKHVwZGF0ZWRDYXJkLmxpa2VzKSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywgZXJyKTtcbiAgICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLnNldExpa2UoY3VycmVudENhcmREYXRhLl9pZClcbiAgICAgICAgICAudGhlbigodXBkYXRlZENhcmQpID0+IGxpa2VDYWxsYmFjayh1cGRhdGVkQ2FyZC5saWtlcykpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgb25EZWxldGU6IChjdXJyZW50Q2FyZERhdGEsIGRlbGV0ZUNhbGxiYWNrKSA9PiB7XG4gICAgICBwb3B1cERlbGV0ZUNhcmQub3BlbigpO1xuICAgICAgcG9wdXBEZWxldGVDYXJkLnNldENvbmZpcm1BY3Rpb24oKCkgPT4ge1xuICAgICAgICBhcGlcbiAgICAgICAgLmRlbGV0ZUNhcmQoY3VycmVudENhcmREYXRhLl9pZClcblxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKCk7XG4gICAgICAgICAgZGVsZXRlQ2FsbGJhY2soKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5jb25zdCBjYXJkc0dhbGVneSA9IG5ldyBTZWN0aW9uKHtcbiAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xuICAgIGNhcmRzR2FsZWd5LmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkRGF0YSkpO1xuICB9LFxufSwgJy5waG90b19fbGlzdCcpO1xuXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xuICBwb3B1cE9wZW5JbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xufTtcblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZSgpIHtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VyUHJvZmlsZS5nZXRVc2VySW5mbygpO1xuICBuYW1lSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xuICBqb2JJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmFib3V0O1xufTtcblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoeyBuYW1lLCBhYm91dCB9KSB7XG5cbiAgcmV0dXJuIGFwaS51cGRhdGVVc2VySW5mbyh7IG5hbWU6IG5hbWUsIGFib3V0OiBhYm91dCB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgIH0pXG5cbn07XG5cbmZ1bmN0aW9uIGNoYW5nZUF2YXRhckZvcm1TdWJtaXQoeyBhdmF0YXIgfSkge1xuICBwb3B1cEFkZEF2YXRhci5zZXRTYXZpbmdNb2RlKCk7XG4gIHJldHVybiBhcGkudXBkYXRlVXNlckF2YXRhcih7IGF2YXRhcjogYXZhdGFyIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJQcm9maWxlLnNldFVzZXJBdmF0YXIoZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywgZXJyKTtcbiAgICB9KVxuXG59XG5cbmZ1bmN0aW9uIGFkZEltYWdlRm9ybVN1Ym1pdChkYXRhKSB7XG4gIHBvcHVwQWRkQ2FyZC5zZXRTYXZpbmdNb2RlKCk7XG4gIHJldHVybiBhcGkuYWRkTmV3Q2FyZCh7IG5hbWU6IGRhdGEubmFtZSwgbGluazogZGF0YS5saW5rIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY2FyZHNHYWxlZ3kuYWRkSXRlbShjcmVhdGVDYXJkKHJlcykpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgfSlcblxufTtcblxucG9wdXBEZWxldGVDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEFkZEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcbiAgaGFuZGxlUHJvZmlsZSgpO1xufSk7XG5cbmJ1dHRvbk9wZW5BZGROZXdDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cEFkZENhcmQub3BlbigpO1xuICBhZGRDYXJkRm9ybVZhbGlkYXRvci5jbGVhclZhbGlkYXRpb24oKTtcbn0pXG5cbmF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGRBdmF0YXIub3BlbigpO1xuICBhZGRBdmF0YXJGb3JtVmFsaWRhdG9yLmNsZWFyVmFsaWRhdGlvbigpO1xufSlcbiJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uUGFyYW1ldGVycyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JBY3RpdmUiLCJwb3B1cFByb2ZpbGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJidXR0b25PcGVuUG9wdXBQcm9maWxlIiwiZm9ybUVsZW1lbnRQcm9maWxlIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJmb3JtQWRkQXZhdGFyIiwiYXZhdGFyIiwicG9wdXBBZGROZXdDYXJkIiwiYnV0dG9uT3BlbkFkZE5ld0NhcmQiLCJmb3JtRWxlbWVudENhcmQiLCJDYXJkIiwiY2FyZERhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9jYXJkRGF0YSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJvbkNsaWNrIiwiX2hhbmRsZUNhcmRMaWtlIiwib25MaWtlIiwiX2hhbmRsZUNhcmREZWxldGUiLCJvbkRlbGV0ZSIsImtleSIsInZhbHVlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiY2FyZFBob3RvIiwic3JjIiwiYWx0IiwiX2NhcmRQaG90byIsInRleHRDb250ZW50IiwiX2J1dHRvbkxpa2UiLCJfbGlrZUNvdW50ZXIiLCJsZW5ndGgiLCJfYnV0dG9uVHJhc2giLCJfaXNPd25lckNhcmQiLCJyZW1vdmUiLCJ0b29nbGVCdXR0b25MaWtlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiY3VycmVudFVzZXIiLCJfaWQiLCJvd25lciIsIl90aGlzIiwic29tZSIsIml0ZW0iLCJpc0xpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJfdGhpczIiLCJ1cGRhdGVkTGlrZSIsIl90aGlzMyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZSIsIl9kZWxldGVDYXJkIiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwicmV2ZXJzZSIsImZvckVhY2giLCJjYXJkRWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX292ZXJsYXlDbG9zZSIsImV2dCIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsIl90aGlzU3VwZXIiLCJjYWxsIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBJbWFnZVRpdGxlIiwiX2dldCIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2Zvcm1JbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfc3VibWl0QnV0dG9uIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsImluaXRpYWxUZXh0IiwiX3N1Ym1pdEZvcm0iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJ0aGVuIiwicmVzZXQiLCJQb3B1cFdpdGhDb25maXJtIiwicG9wdXBTZWxldG9yIiwiX2NvbmZpcm1TdGVwIiwicHJldmVudERlZmF1bHQiLCJhY3Rpb24iLCJVc2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VySm9iU2VsZWN0b3IiLCJ1c2VyQXZhdGFyU2VsZWN0b3IiLCJfdXNlck5hbWVTZWxlY3RvciIsIl91c2VySm9iU2VsZWN0b3IiLCJfdXNlckF2YXRhclNlbGVjdG9yIiwiX2RhdGEiLCJkYXRhIiwiYWJvdXQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl92YWxpZGF0aW9uUGFyYW1ldGVycyIsIl9mb3JtRWxlbWVudCIsIl9idXR0b25FbGVtZW50IiwiQXJyYXkiLCJmcm9tIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJBcGkiLCJhcGlQYXJhbWV0ZXJzIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIl9oYW5kbGVSZXBseSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFkZENhcmRGb3JtVmFsaWRhdG9yIiwiYWRkQXZhdGFyRm9ybVZhbGlkYXRvciIsInVzZXJQcm9maWxlIiwicG9wdXBFZGl0UHJvZmlsZSIsIl9yZWYzIiwiYXBpIiwidXBkYXRlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInBvcHVwT3BlbkltYWdlIiwicG9wdXBBZGRDYXJkIiwic2V0U2F2aW5nTW9kZSIsImFkZE5ld0NhcmQiLCJjYXJkc0dhbGVneSIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwicG9wdXBBZGRBdmF0YXIiLCJfcmVmNCIsInVwZGF0ZVVzZXJBdmF0YXIiLCJzZXRVc2VyQXZhdGFyIiwicG9wdXBEZWxldGVDYXJkIiwiZ2V0VXNlckluZm8iLCJjYXJkIiwiaGFuZGxlQ2FyZENsaWNrIiwiY3VycmVudENhcmREYXRhIiwibGlrZUNhbGxiYWNrIiwiZGVsZXRlTGlrZSIsInVwZGF0ZWRDYXJkIiwic2V0TGlrZSIsImRlbGV0ZUNhbGxiYWNrIiwib3BlbiIsInNldENvbmZpcm1BY3Rpb24iLCJkZWxldGVDYXJkIiwiZ2VuZXJhdGVDYXJkIiwiYWxsIiwiZ2V0QWxsQ2FyZHMiLCJfcmVmMiIsInJlbmRlckl0ZW1zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ1c2VyRGF0YSIsImNsZWFyVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=