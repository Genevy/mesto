(()=>{"use strict";var t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__save-button",inputErrorClass:"form__input_type_error",inputErrorActive:"form__input-error_active"},e=document.querySelector(".popup_type_edit"),r=document.querySelector(".profile__edit-button"),n=e.querySelector(".form"),o=e.querySelector(".form__input_type_user-name"),i=e.querySelector(".form__input_type_about"),u=document.querySelector(".popup_type_avatar").querySelector(".form"),a=document.querySelector(".profile__avatar"),c=document.querySelector(".popup_type_card"),l=document.querySelector(".profile__add-button"),s=c.querySelector(".form");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}var y=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cardData=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._cardSelector=r,this._handleCardClick=n.onClick,this._handleCardLike=n.onLike,this._handleCardDelete=n.onDelete}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){this._element=this._getTemplate();var t=this._element.querySelector(".card__photo");return t.src=this._link,t.alt=this._name,this._cardPhoto=t,this._element.querySelector(".card__title").textContent=this._name,this._buttonLike=this._element.querySelector(".card__button-like"),this._likeCounter=this._element.querySelector(".card__like-counter"),this._likeCounter.textContent=this._likes.length,this._buttonTrash=this._element.querySelector(".card__recycle-bin"),this._isOwnerCard()||this._buttonTrash.remove(),this.toogleButtonLike(),this._setEventListeners(),this._element}},{key:"_isOwnerCard",value:function(){return this._cardData.currentUser._id===this._cardData.owner._id}},{key:"isLike",value:function(){var t=this;return this._cardData.likes.some((function(e){return e._id===t._cardData.currentUser._id}))}},{key:"toogleButtonLike",value:function(){this.isLike()?this._buttonLike.classList.add("card__button-like_active"):this._buttonLike.classList.remove("card__button-like_active")}},{key:"_handleLike",value:function(){var t=this;this._handleCardLike(this._cardData,(function(e){t._cardData.likes=e,t.toogleButtonLike(),t._likeCounter.textContent=t._cardData.likes.length}))}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null,this._cardPhoto=null,this._buttonLike=null,this._buttonTrash=null}},{key:"_setEventListeners",value:function(){var t=this;this._cardPhoto.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)})),this._buttonLike.addEventListener("click",(function(){t._handleLike()})),this._buttonTrash.addEventListener("click",(function(){t._handleCardDelete(t._cardData,(function(){t._deleteCard()}))}))}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}var v=function(){function t(e,r){var n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=n,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(t){var e=this;t.reverse().forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}var _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._overlayClose=this._overlayClose.bind(this)}var e,r;return e=t,(r=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_overlayClose",value:function(t){t.target==t.currentTarget&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._overlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._overlayClose)}},{key:"setEventListeners",value:function(){var t=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){t.close()}))}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===S(o)?o:String(o)),n)}var o}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(this,arguments)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(o){var r=O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return k(t)}(this,t)});function u(t){var e,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._popupImage=r._popup.querySelector(".popup__image"),r._popupImageTitle=r._popup.querySelector(".popup__image-caption"),E((e=k(r),O(u.prototype)),"setEventListeners",e).call(e),r}return e=u,(r=[{key:"open",value:function(t,e){this._popupImage.src=e,this._popupImage.alt=t,this._popupImageTitle.textContent=t,E(O(u.prototype),"open",this).call(this)}}])&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===j(o)?o:String(o)),n)}var o}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},C.apply(this,arguments)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(n);if(o){var r=T(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._form=r._popup.querySelector(".form"),r._formInputList=r._form.querySelectorAll(".form__input"),r._handleFormSubmit=e,r._submitButton=r._form.querySelector(".form__save-button"),r}return e=u,(r=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._formInputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;C(T(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault();var r=t._submitButton.textContent;t._submitButton.textContent="Сохранение...",t._handleFormSubmit(t._getInputValues()).then((function(){return t.close()})).catch((function(t){return console.log("Error: ".concat(t))})).finally((function(){t._submitButton.textContent=r}))}))}},{key:"close",value:function(){this._form.reset(),C(T(u.prototype),"close",this).call(this)}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},D.apply(this,arguments)}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=U(n);if(o){var r=U(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".form"),e._confirmStep=function(){},e}return e=u,(r=[{key:"setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t._confirmStep()})),D(U(u.prototype),"setEventListeners",this).call(this)}},{key:"setConfirmAction",value:function(t){this._confirmStep=t}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===V(o)?o:String(o)),n)}var o}var J=function(){function t(e){var r=e.userNameSelector,n=e.userJobSelector,o=e.userAvatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userNameSelector=document.querySelector(r),this._userJobSelector=document.querySelector(n),this._userAvatarSelector=document.querySelector(o),this._data={}}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return this._data}},{key:"setUserInfo",value:function(t){this._data=t,this._userNameSelector.textContent=t.name,this._userJobSelector.textContent=t.about}},{key:"setUserAvatar",value:function(t){this._data=t,this._userAvatarSelector.src=t.avatar}}])&&N(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!==F(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===F(e)?e:String(e)}var z=function(){function t(e,r){var n,o,i,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(){return u._inputList.some((function(t){return!t.validity.valid}))},(o=M(o="_hasInvalidInput"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this._validationParameters=e,this._formElement=r,this._buttonElement=this._formElement.querySelector(this._validationParameters.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._validationParameters.inputSelector))}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t,e){var r=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._validationParameters.inputErrorClass),r.textContent=e,r.classList.add(this._validationParameters.inputErrorActive)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._validationParameters.inputErrorClass),e.classList.remove(this._validationParameters.inputErrorActive),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.setAttribute("disabled",!0):this._buttonElement.removeAttribute("disabled")}},{key:"clearValidation",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))}))}}])&&H(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$(o)?o:String(o)),n)}var o}var K=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var e,r;return e=t,(r=[{key:"_handleReply",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleReply)}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleReply)}},{key:"updateUserInfo",value:function(t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then(this._handleReply)}},{key:"addNewCard",value:function(t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then(this._handleReply)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"setLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then(this._handleReply)}},{key:"deleteLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"updateUserAvatar",value:function(t){return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify(t)}).then(this._handleReply)}}])&&G(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W=new z(t,n);W.enableValidation();var X=new z(t,s);X.enableValidation();var Y=new z(t,u);Y.enableValidation();var Z=new J({userNameSelector:".profile__name",userJobSelector:".profile__about",userAvatarSelector:".profile__image"}),tt=new I(".popup_type_edit",(function(t){return it.updateUserInfo(t).then((function(t){Z.setUserInfo(t)})).catch((function(t){console.log("ERROR",t)}))})),et=new P(".popup_type_image"),rt=new I(".popup_type_card",(function(t){return it.addNewCard(t).then((function(t){at.addItem(ut(t))})).catch((function(t){console.log("ERROR",t)}))})),nt=new I(".popup_type_avatar",(function(t){return it.updateUserAvatar(t).then((function(t){Z.setUserAvatar(t)})).catch((function(t){console.log("ERROR",t)}))})),ot=new x(".popup_type_confirm"),it=new K({url:"https://mesto.nomoreparties.co/v1/cohort-61",headers:{"Content-Type":"application/json",authorization:"abeb6987-1131-4a8c-8e13-4ece746c8e7b"}});function ut(t){t.currentUser=Z.getUserInfo();var e=new y(t,"#card",{onClick:ct,onLike:function(t,r){e.isLike()?it.deleteLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("ERROR",t)})):it.setLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("ERROR",t)}))},onDelete:function(t,e){ot.open(),ot.setConfirmAction((function(){it.deleteCard(t._id).then((function(){ot.close(),e()})).catch((function(t){console.log("ERROR",t)}))}))}});return e.generateCard()}Promise.all([it.getUserInfo(),it.getAllCards()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];Z.setUserInfo(o),Z.setUserAvatar(o),at.renderItems(i)})).catch((function(t){console.log(t)}));var at=new v({renderer:function(t){at.addItem(ut(t))}},".photo__list");function ct(t,e){et.open(t,e)}ot.setEventListeners(),tt.setEventListeners(),nt.setEventListeners(),rt.setEventListeners(),r.addEventListener("click",(function(){var t;W.toggleButtonState(),tt.open(),t=Z.getUserInfo(),o.value=t.name,i.value=t.about})),l.addEventListener("click",(function(){rt.open(),X.clearValidation()})),a.addEventListener("click",(function(){nt.open(),Y.clearValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi43N2M1NmExMTM4OTQ2NjNmZmZiYS5qcyIsIm1hcHBpbmdzIjoibUJBQUEsSUFBTUEsRUFBdUIsQ0FDM0JDLGFBQWMsUUFDZEMsY0FBZSxlQUNmQyxxQkFBc0IscUJBQ3RCQyxnQkFBaUIseUJBQ2pCQyxpQkFBa0IsNEJBU2RDLEVBQWVDLFNBQVNDLGNBQWMsb0JBQ3RDQyxFQUF5QkYsU0FBU0MsY0FBYyx5QkFDaERFLEVBQXFCSixFQUFhRSxjQUFjLFNBQ2hERyxFQUFZTCxFQUFhRSxjQUFjLCtCQUN2Q0ksRUFBV04sRUFBYUUsY0FBYywyQkFFdENLLEVBRGlCTixTQUFTQyxjQUFjLHNCQUNUQSxjQUFjLFNBQzdDTSxFQUFTUCxTQUFTQyxjQUFjLG9CQUNoQ08sRUFBa0JSLFNBQVNDLGNBQWMsb0JBQ3pDUSxFQUF1QlQsU0FBU0MsY0FBYyx3QkFDOUNTLEVBQWtCRixFQUFnQlAsY0FBYyxTLHVxQkN4QmpDVSxFQUFJLFdBQ3ZCLFNBQUFBLEVBQVlDLEVBQVVDLEVBQWNDLEksNEZBQVNDLENBQUEsS0FBQUosR0FDM0NLLEtBQUtDLFVBQVlMLEVBQ2pCSSxLQUFLRSxNQUFRTixFQUFTTyxLQUN0QkgsS0FBS0ksTUFBUVIsRUFBU1MsS0FDdEJMLEtBQUtNLE9BQVNWLEVBQVNXLE1BQ3ZCUCxLQUFLUSxjQUFnQlgsRUFDckJHLEtBQUtTLGlCQUFtQlgsRUFBUVksUUFDaENWLEtBQUtXLGdCQUFrQmIsRUFBUWMsT0FDL0JaLEtBQUthLGtCQUFvQmYsRUFBUWdCLFFBQ25DLEMsUUF5RkMsTyxFQXpGQW5CLEcsRUFBQSxFQUFBb0IsSUFBQSxlQUFBQyxNQUVELFdBT0UsT0FOb0JoQyxTQUNuQkMsY0FBY2UsS0FBS1EsZUFDbkJTLFFBQ0FoQyxjQUFjLFNBQ2RpQyxXQUFVLEVBR2IsR0FBQyxDQUFBSCxJQUFBLGVBQUFDLE1BRUQsV0FDRWhCLEtBQUttQixTQUFXbkIsS0FBS29CLGVBRXJCLElBQU1DLEVBQVlyQixLQUFLbUIsU0FBU2xDLGNBQWMsZ0JBcUI5QyxPQXBCQW9DLEVBQVVDLElBQU10QixLQUFLSSxNQUNyQmlCLEVBQVVFLElBQU12QixLQUFLRSxNQUVyQkYsS0FBS3dCLFdBQWFILEVBRURyQixLQUFLbUIsU0FBU2xDLGNBQWMsZ0JBQ3BDd0MsWUFBY3pCLEtBQUtFLE1BRTVCRixLQUFLMEIsWUFBYzFCLEtBQUttQixTQUFTbEMsY0FBYyxzQkFDL0NlLEtBQUsyQixhQUFlM0IsS0FBS21CLFNBQVNsQyxjQUFjLHVCQUNoRGUsS0FBSzJCLGFBQWFGLFlBQWN6QixLQUFLTSxPQUFPc0IsT0FDNUM1QixLQUFLNkIsYUFBZTdCLEtBQUttQixTQUFTbEMsY0FBYyxzQkFFNUNlLEtBQUs4QixnQkFDUDlCLEtBQUs2QixhQUFhRSxTQUdwQi9CLEtBQUtnQyxtQkFDTGhDLEtBQUtpQyxxQkFFRWpDLEtBQUttQixRQUNkLEdBQUMsQ0FBQUosSUFBQSxlQUFBQyxNQUVELFdBQ0UsT0FBT2hCLEtBQUtDLFVBQVVpQyxZQUFZQyxNQUFRbkMsS0FBS0MsVUFBVW1DLE1BQU1ELEdBQ2pFLEdBQUMsQ0FBQXBCLElBQUEsU0FBQUMsTUFFRCxXQUFTLElBQUFxQixFQUFBLEtBQ1AsT0FBT3JDLEtBQUtDLFVBQVVNLE1BQU0rQixNQUFLLFNBQUNDLEdBQ2hDLE9BQU9BLEVBQUtKLE1BQVFFLEVBQUtwQyxVQUFVaUMsWUFBWUMsR0FDakQsR0FDRixHQUFDLENBQUFwQixJQUFBLG1CQUFBQyxNQUVELFdBQ01oQixLQUFLd0MsU0FDUHhDLEtBQUswQixZQUFZZSxVQUFVQyxJQUFJLDRCQUUvQjFDLEtBQUswQixZQUFZZSxVQUFVVixPQUFPLDJCQUV0QyxHQUFDLENBQUFoQixJQUFBLGNBQUFDLE1BRUQsV0FBYyxJQUFBMkIsRUFBQSxLQUNaM0MsS0FBS1csZ0JBQ0hYLEtBQUtDLFdBQ0wsU0FBQzJDLEdBQ0NELEVBQUsxQyxVQUFVTSxNQUFRcUMsRUFDdkJELEVBQUtYLG1CQUNMVyxFQUFLaEIsYUFBYUYsWUFBY2tCLEVBQUsxQyxVQUFVTSxNQUFNcUIsTUFDdkQsR0FDSixHQUFDLENBQUFiLElBQUEsY0FBQUMsTUFFRCxXQUNFaEIsS0FBS21CLFNBQVNZLFNBQ2QvQixLQUFLbUIsU0FBVyxLQUNoQm5CLEtBQUt3QixXQUFhLEtBQ2xCeEIsS0FBSzBCLFlBQWMsS0FDbkIxQixLQUFLNkIsYUFBZSxJQUN0QixHQUFDLENBQUFkLElBQUEscUJBQUFDLE1BRUQsV0FBcUIsSUFBQTZCLEVBQUEsS0FDbkI3QyxLQUFLd0IsV0FBV3NCLGlCQUFpQixTQUFTLFdBQ3hDRCxFQUFLcEMsaUJBQWlCb0MsRUFBSzNDLE1BQU8yQyxFQUFLekMsTUFDekMsSUFFQUosS0FBSzBCLFlBQVlvQixpQkFBaUIsU0FBUyxXQUN6Q0QsRUFBS0UsYUFDUCxJQUVBL0MsS0FBSzZCLGFBQWFpQixpQkFBaUIsU0FBUyxXQUMxQ0QsRUFBS2hDLGtCQUFrQmdDLEVBQUs1QyxXQUFXLFdBQ3JDNEMsRUFBS0csYUFDUCxHQUNGLEdBQ0YsTSxvRUFBQ3JELENBQUEsQ0FuR3NCLEcsdXFCQ0FKc0QsRUFBTyxXQUMxQixTQUFBQSxFQUFBQyxFQUEwQkMsR0FBbUIsSUFBL0JDLEVBQVFGLEVBQVJFLFUsNEZBQVFyRCxDQUFBLEtBQUFrRCxHQUNwQmpELEtBQUtxRCxVQUFZRCxFQUNqQnBELEtBQUtzRCxXQUFhdEUsU0FBU0MsY0FBY2tFLEVBQzNDLEMsUUFVQyxPLEVBVkFGLEcsRUFBQSxFQUFBbEMsSUFBQSxjQUFBQyxNQUVELFNBQVl1QyxHQUFPLElBQUFsQixFQUFBLEtBQ2pCa0IsRUFBTUMsVUFBVUMsU0FBUSxTQUFDbEIsR0FDdkJGLEVBQUtnQixVQUFVZCxFQUNqQixHQUNGLEdBQUMsQ0FBQXhCLElBQUEsVUFBQUMsTUFFRCxTQUFRMEMsR0FDTjFELEtBQUtzRCxXQUFXSyxRQUFRRCxFQUMxQixNLG9FQUFDVCxDQUFBLENBZHlCLEcsdXFCQ0FQVyxFQUFLLFdBQ3hCLFNBQUFBLEVBQVlDLEksNEZBQWU5RCxDQUFBLEtBQUE2RCxHQUN6QjVELEtBQUs4RCxPQUFTOUUsU0FBU0MsY0FBYzRFLEdBQ3JDN0QsS0FBSytELGdCQUFrQi9ELEtBQUsrRCxnQkFBZ0JDLEtBQUtoRSxNQUNqREEsS0FBS2lFLGNBQWdCakUsS0FBS2lFLGNBQWNELEtBQUtoRSxLQUMvQyxDLFFBZ0NDLE8sRUFoQ0E0RCxHLEVBQUEsRUFBQTdDLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0JrRCxHQUNFLFdBQVpBLEVBQUluRCxLQUNOZixLQUFLbUUsT0FFVCxHQUFDLENBQUFwRCxJQUFBLGdCQUFBQyxNQUVELFNBQWNrRCxHQUNSQSxFQUFJRSxRQUFVRixFQUFJRyxlQUNwQnJFLEtBQUttRSxPQUVULEdBQUMsQ0FBQXBELElBQUEsT0FBQUMsTUFFRCxXQUNFaEIsS0FBSzhELE9BQU9yQixVQUFVQyxJQUFJLGdCQUMxQjFELFNBQVM4RCxpQkFBaUIsVUFBVzlDLEtBQUsrRCxpQkFDMUMvRCxLQUFLOEQsT0FBT2hCLGlCQUFpQixZQUFhOUMsS0FBS2lFLGNBQ2pELEdBQUMsQ0FBQWxELElBQUEsUUFBQUMsTUFFRCxXQUNFaEIsS0FBSzhELE9BQU9yQixVQUFVVixPQUFPLGdCQUM3Qi9DLFNBQVNzRixvQkFBb0IsVUFBV3RFLEtBQUsrRCxpQkFDN0MvRCxLQUFLOEQsT0FBT1Esb0JBQW9CLFlBQWF0RSxLQUFLaUUsY0FDcEQsR0FBQyxDQUFBbEQsSUFBQSxvQkFBQUMsTUFFRCxXQUFvQixJQUFBcUIsRUFBQSxLQUNFckMsS0FBSzhELE9BQU83RSxjQUFjLGlCQUVsQzZELGlCQUFpQixTQUFTLFdBQ3BDVCxFQUFLOEIsT0FDUCxHQUNGLE0sb0VBQUNQLENBQUEsQ0FyQ3VCLEcsMjJDQ0FLLElBRVZXLEVBQWMsU0FBQUMsSSxxUkFBQUMsQ0FBQUYsRUFBQUMsR0FBQSxJLFFBQUFFLEcsRUFBQUgsRSw2akJBQ2pDLFNBQUFBLEVBQVlWLEdBQWUsSUFBQWMsRUFBQXRDLEVBSUMsTyw0RkFKRHRDLENBQUEsS0FBQXdFLElBQ3pCbEMsRUFBQXFDLEVBQUFFLEtBQUEsS0FBTWYsSUFDRGdCLFlBQWN4QyxFQUFLeUIsT0FBTzdFLGNBQWMsaUJBQzdDb0QsRUFBS3lDLGlCQUFtQnpDLEVBQUt5QixPQUFPN0UsY0FBYyx5QkFDbEQ4RixHQUFBSixFQUFBSyxFQUFBM0MsR0FBQTRDLEVBQUFWLEVBQUFXLFlBQUEsb0JBQUFQLEdBQUFDLEtBQUFELEdBQTBCdEMsQ0FDNUIsQ0FRQyxPLEVBUkFrQyxHLEVBQUEsRUFBQXhELElBQUEsT0FBQUMsTUFFRCxTQUFLYixFQUFNRSxHQUNUTCxLQUFLNkUsWUFBWXZELElBQU1qQixFQUN2QkwsS0FBSzZFLFlBQVl0RCxJQUFNcEIsRUFDdkJILEtBQUs4RSxpQkFBaUJyRCxZQUFjdEIsRUFFcEM0RSxFQUFBRSxFQUFBVixFQUFBVyxXQUFBLGFBQUFOLEtBQUEsS0FDRixNLG9FQUFDTCxDQUFBLENBZGdDLENBQVNYLEcsZ3ZDQ0ZiLElBRVZ1QixFQUFhLFNBQUFYLEkscVJBQUFDLENBQUFVLEVBQUFYLEdBQUEsSSxRQUFBRSxHLEVBQUFTLEUscXJCQUNoQyxTQUFBQSxFQUFZdEIsRUFBZXVCLEdBQWtCLElBQUEvQyxFQUt5QixPLDRGQUx6QnRDLENBQUEsS0FBQW9GLElBQzNDOUMsRUFBQXFDLEVBQUFFLEtBQUEsS0FBTWYsSUFDRHdCLE1BQVFoRCxFQUFLeUIsT0FBTzdFLGNBQWMsU0FDdkNvRCxFQUFLaUQsZUFBaUJqRCxFQUFLZ0QsTUFBTUUsaUJBQWlCLGdCQUNsRGxELEVBQUttRCxrQkFBb0JKLEVBQ3pCL0MsRUFBS29ELGNBQWdCcEQsRUFBS2dELE1BQU1wRyxjQUFjLHNCQUFzQm9ELENBQ3RFLENBNkJDLE8sRUE3QkE4QyxHLEVBQUEsRUFBQXBFLElBQUEsa0JBQUFDLE1BRUQsV0FBa0IsSUFBQTJCLEVBQUEsS0FNaEIsT0FMQTNDLEtBQUswRixZQUFjLENBQUMsRUFFcEIxRixLQUFLc0YsZUFBZTdCLFNBQVEsU0FBQWtDLEdBQzFCaEQsRUFBSytDLFlBQVlDLEVBQU14RixNQUFRd0YsRUFBTTNFLEtBQUssSUFFckNoQixLQUFLMEYsV0FDZCxHQUFDLENBQUEzRSxJQUFBLG9CQUFBQyxNQUVELFdBQW9CLElBQUE2QixFQUFBLEtBQ2xCa0MsRUFBQUUsRUFBQUUsRUFBQUQsV0FBQSwwQkFBQU4sS0FBQSxNQUNBNUUsS0FBS3FGLE1BQU12QyxpQkFBaUIsVUFBVSxTQUFDb0IsR0FDckNBLEVBQUkwQixpQkFDSixJQUFNQyxFQUFjaEQsRUFBSzRDLGNBQWNoRSxZQUN2Q29CLEVBQUs0QyxjQUFjaEUsWUFBYyxnQkFDakNvQixFQUFLMkMsa0JBQWtCM0MsRUFBS2lELG1CQUN6QkMsTUFBSyxrQkFBTWxELEVBQUtzQixPQUFPLElBQ3ZCNkIsT0FBTSxTQUFDQyxHQUFHLE9BQUtDLFFBQVFDLElBQUksVUFBREMsT0FBV0gsR0FBTSxJQUMzQ0ksU0FBUSxXQUNQeEQsRUFBSzRDLGNBQWNoRSxZQUFjb0UsQ0FDbkMsR0FDSixHQUNGLEdBQUMsQ0FBQTlFLElBQUEsUUFBQUMsTUFFRCxXQUNFaEIsS0FBS3FGLE1BQU1pQixRQUNYdkIsRUFBQUUsRUFBQUUsRUFBQUQsV0FBQSxjQUFBTixLQUFBLEtBQ0YsTSxvRUFBQ08sQ0FBQSxDQXBDK0IsQ0FBU3ZCLEcsZ3ZDQ0ZaLElBRVYyQyxFQUFnQixTQUFBL0IsSSxxUkFBQUMsQ0FBQThCLEVBQUEvQixHQUFBLEksUUFBQUUsRyxFQUFBNkIsRSxxckJBQ25DLFNBQUFBLEVBQVlDLEdBQWMsSUFBQW5FLEVBR0ssTyw0RkFITHRDLENBQUEsS0FBQXdHLElBQ3hCbEUsRUFBQXFDLEVBQUFFLEtBQUEsS0FBTTRCLElBQ0RuQixNQUFRaEQsRUFBS3lCLE9BQU83RSxjQUFjLFNBQ3ZDb0QsRUFBS29FLGFBQWUsV0FBTyxFQUFFcEUsQ0FDL0IsQ0FhQyxPLEVBYkFrRSxHLEVBQUEsRUFBQXhGLElBQUEsb0JBQUFDLE1BRUQsV0FBb0IsSUFBQTJCLEVBQUEsS0FDbEIzQyxLQUFLcUYsTUFBTXZDLGlCQUFpQixVQUFVLFNBQUNvQixHQUNyQ0EsRUFBSTBCLGlCQUNKakQsRUFBSzhELGNBQ1AsSUFFQTFCLEVBQUFFLEVBQUFzQixFQUFBckIsV0FBQSwwQkFBQU4sS0FBQSxLQUNGLEdBQUMsQ0FBQTdELElBQUEsbUJBQUFDLE1BRUQsU0FBaUIwRixHQUNmMUcsS0FBS3lHLGFBQWVDLENBQ3RCLE0sb0VBQUNILENBQUEsQ0FsQmtDLENBQVMzQyxHLHVxQkNGekIrQyxFQUFRLFdBQzNCLFNBQUFBLEVBQUF6RCxHQUFzRSxJQUF4RDBELEVBQWdCMUQsRUFBaEIwRCxpQkFBa0JDLEVBQWUzRCxFQUFmMkQsZ0JBQWlCQyxFQUFrQjVELEVBQWxCNEQsb0IsNEZBQWtCL0csQ0FBQSxLQUFBNEcsR0FDakUzRyxLQUFLK0csa0JBQW9CL0gsU0FBU0MsY0FBYzJILEdBQ2hENUcsS0FBS2dILGlCQUFtQmhJLFNBQVNDLGNBQWM0SCxHQUMvQzdHLEtBQUtpSCxvQkFBc0JqSSxTQUFTQyxjQUFjNkgsR0FDbEQ5RyxLQUFLa0gsTUFBUSxDQUFDLENBQ2hCLEMsUUFlQyxPLEVBZkFQLEcsRUFBQSxFQUFBNUYsSUFBQSxjQUFBQyxNQUVELFdBQ0UsT0FBT2hCLEtBQUtrSCxLQUNkLEdBQUMsQ0FBQW5HLElBQUEsY0FBQUMsTUFFRCxTQUFZbUcsR0FDVm5ILEtBQUtrSCxNQUFRQyxFQUNibkgsS0FBSytHLGtCQUFrQnRGLFlBQWMwRixFQUFLaEgsS0FDMUNILEtBQUtnSCxpQkFBaUJ2RixZQUFjMEYsRUFBS0MsS0FDM0MsR0FBQyxDQUFBckcsSUFBQSxnQkFBQUMsTUFFRCxTQUFjbUcsR0FDWm5ILEtBQUtrSCxNQUFRQyxFQUNibkgsS0FBS2lILG9CQUFvQjNGLElBQU02RixFQUFLNUgsTUFDdEMsTSxvRUFBQ29ILENBQUEsQ0FyQjBCLEcsc3JCQ0FSVSxFQUFhLFdBQ2hDLFNBQUFBLEVBQVk1SSxFQUFzQjZJLEdBQWEsSSxNQUFBakYsRUFBQSxNLDRGQUFBdEMsQ0FBQSxLQUFBc0gsRyxFQUFBLEssRUE2QjVCLFdBQ2pCLE9BQU9oRixFQUFLa0YsV0FBV2pGLE1BQUssU0FBQ2tGLEdBQzNCLE9BQVFBLEVBQWFDLFNBQVNDLEtBQ2hDLEdBQ0YsRyxNQWpDK0MsdUIsd0ZBQzdDMUgsS0FBSzJILHNCQUF3QmxKLEVBQzdCdUIsS0FBSzRILGFBQWVOLEVBQ3BCdEgsS0FBSzZILGVBQWlCN0gsS0FBSzRILGFBQWEzSSxjQUFjZSxLQUFLMkgsc0JBQXNCL0ksc0JBQ2pGb0IsS0FBS3VILFdBQWFPLE1BQU1DLEtBQUsvSCxLQUFLNEgsYUFBYXJDLGlCQUFpQnZGLEtBQUsySCxzQkFBc0JoSixlQUM3RixDLFFBMkRDLE8sRUEzREEwSSxHLEVBQUEsRUFBQXRHLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0J3RyxFQUFjUSxHQUM1QixJQUFNQyxFQUFlakksS0FBSzRILGFBQWEzSSxjQUFjLElBQURtSCxPQUFLb0IsRUFBYVUsR0FBRSxXQUN4RVYsRUFBYS9FLFVBQVVDLElBQUkxQyxLQUFLMkgsc0JBQXNCOUksaUJBQ3REb0osRUFBYXhHLFlBQWN1RyxFQUMzQkMsRUFBYXhGLFVBQVVDLElBQUkxQyxLQUFLMkgsc0JBQXNCN0ksaUJBQ3hELEdBQUMsQ0FBQWlDLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0J3RyxHQUNkLElBQU1TLEVBQWVqSSxLQUFLNEgsYUFBYTNJLGNBQWMsSUFBRG1ILE9BQUtvQixFQUFhVSxHQUFFLFdBQ3hFVixFQUFhL0UsVUFBVVYsT0FBTy9CLEtBQUsySCxzQkFBc0I5SSxpQkFDekRvSixFQUFheEYsVUFBVVYsT0FBTy9CLEtBQUsySCxzQkFBc0I3SSxrQkFDekRtSixFQUFheEcsWUFBYyxFQUM3QixHQUFDLENBQUFWLElBQUEsc0JBQUFDLE1BRUQsU0FBb0J3RyxHQUNiQSxFQUFhQyxTQUFTQyxNQUd6QjFILEtBQUttSSxnQkFBZ0JYLEdBRnJCeEgsS0FBS29JLGdCQUFnQlosRUFBY0EsRUFBYWEsa0JBSXBELEdBQUMsQ0FBQXRILElBQUEsb0JBQUFDLE1BUUQsV0FDTWhCLEtBQUtzSSxtQkFDUHRJLEtBQUs2SCxlQUFlVSxhQUFhLFlBQVksR0FFN0N2SSxLQUFLNkgsZUFBZVcsZ0JBQWdCLFdBRXhDLEdBQUMsQ0FBQXpILElBQUEsa0JBQUFDLE1BRUQsV0FBa0IsSUFBQTJCLEVBQUEsS0FDaEIzQyxLQUFLeUksb0JBRUx6SSxLQUFLdUgsV0FBVzlELFNBQVEsU0FBQytELEdBQ3ZCN0UsRUFBS3dGLGdCQUFnQlgsRUFDdkIsR0FDRixHQUFDLENBQUF6RyxJQUFBLG1CQUFBQyxNQUVELFdBQ0VoQixLQUFLaUMsb0JBQ1AsR0FBQyxDQUFBbEIsSUFBQSxxQkFBQUMsTUFFRCxXQUFxQixJQUFBNkIsRUFBQSxLQUNuQjdDLEtBQUt5SSxvQkFFTHpJLEtBQUt1SCxXQUFXOUQsU0FBUSxTQUFDK0QsR0FDdkJBLEVBQWExRSxpQkFBaUIsU0FBUyxXQUNyQ0QsRUFBSzZGLG9CQUFvQmxCLEdBQ3pCM0UsRUFBSzRGLG1CQUNQLEdBQ0YsR0FDRixNLG9FQUFDcEIsQ0FBQSxDQWpFK0IsRyx1cUJDQWJzQixFQUFHLFdBQ3RCLFNBQUFBLEVBQVlDLEksNEZBQWU3SSxDQUFBLEtBQUE0SSxHQUN6QjNJLEtBQUs2SSxLQUFPRCxFQUFjRSxJQUMxQjlJLEtBQUsrSSxTQUFXSCxFQUFjSSxPQUNoQyxDLFFBMEVDLE8sRUExRUFMLEcsRUFBQSxFQUFBNUgsSUFBQSxlQUFBQyxNQUVELFNBQWFpSSxHQUNYLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQU8sV0FBRGpELE9BQVk2QyxFQUFJSyxRQUN2QyxHQUFDLENBQUF2SSxJQUFBLGNBQUFDLE1BRUQsV0FDRSxPQUFPdUksTUFBTSxHQUFEbkQsT0FBSXBHLEtBQUs2SSxLQUFJLGFBQWEsQ0FBRUcsUUFBU2hKLEtBQUsrSSxXQUNuRGhELEtBQUsvRixLQUFLd0osYUFDZixHQUFDLENBQUF6SSxJQUFBLGNBQUFDLE1BRUQsV0FDRSxPQUFPdUksTUFBTSxHQUFEbkQsT0FBSXBHLEtBQUs2SSxLQUFJLFVBQVUsQ0FBRUcsUUFBU2hKLEtBQUsrSSxXQUNoRGhELEtBQUsvRixLQUFLd0osYUFDZixHQUFDLENBQUF6SSxJQUFBLGlCQUFBQyxNQUVELFNBQWVtRyxHQUNiLE9BQU9vQyxNQUFNLEdBQURuRCxPQUFJcEcsS0FBSzZJLEtBQUksYUFDdkIsQ0FDRVksT0FBUSxRQUNSVCxRQUFTaEosS0FBSytJLFNBQ2RXLEtBQU1DLEtBQUtDLFVBQVUsQ0FBRXpKLEtBQU1nSCxFQUFLaEgsS0FBTWlILE1BQU9ELEVBQUtDLFVBRXJEckIsS0FBSy9GLEtBQUt3SixhQUNmLEdBQUMsQ0FBQXpJLElBQUEsYUFBQUMsTUFFRCxTQUFXcEIsR0FDVCxPQUFPMkosTUFBTSxHQUFEbkQsT0FBSXBHLEtBQUs2SSxLQUFJLFVBQ3ZCLENBQ0VZLE9BQVEsT0FDUlQsUUFBU2hKLEtBQUsrSSxTQUNkVyxLQUFNQyxLQUFLQyxVQUFVaEssS0FFdEJtRyxLQUFLL0YsS0FBS3dKLGFBQ2YsR0FBQyxDQUFBekksSUFBQSxhQUFBQyxNQUVELFNBQVdrSCxHQUNULE9BQU9xQixNQUFNLEdBQURuRCxPQUFJcEcsS0FBSzZJLEtBQUksV0FBQXpDLE9BQVU4QixHQUNqQyxDQUNFdUIsT0FBUSxTQUNSVCxRQUFTaEosS0FBSytJLFdBRWZoRCxLQUFLL0YsS0FBS3dKLGFBQ2YsR0FBQyxDQUFBekksSUFBQSxVQUFBQyxNQUVELFNBQVFrSCxHQUNOLE9BQU9xQixNQUFNLEdBQURuRCxPQUFJcEcsS0FBSzZJLEtBQUksV0FBQXpDLE9BQVU4QixFQUFFLFVBQ25DLENBQ0V1QixPQUFRLE1BQ1JULFFBQVNoSixLQUFLK0ksV0FFZmhELEtBQUsvRixLQUFLd0osYUFDZixHQUFDLENBQUF6SSxJQUFBLGFBQUFDLE1BRUQsU0FBV2tILEdBQ1QsT0FBT3FCLE1BQU0sR0FBRG5ELE9BQUlwRyxLQUFLNkksS0FBSSxXQUFBekMsT0FBVThCLEVBQUUsVUFDbkMsQ0FDRXVCLE9BQVEsU0FDUlQsUUFBU2hKLEtBQUsrSSxXQUVmaEQsS0FBSy9GLEtBQUt3SixhQUNmLEdBQUMsQ0FBQXpJLElBQUEsbUJBQUFDLE1BRUQsU0FBaUJtRyxHQUNmLE9BQU9vQyxNQUFNLEdBQURuRCxPQUFJcEcsS0FBSzZJLEtBQUksb0JBQ3ZCLENBQ0VHLFFBQVNoSixLQUFLK0ksU0FDZFUsT0FBUSxRQUNSQyxLQUFNQyxLQUFLQyxVQUFVekMsS0FFdEJwQixLQUFLL0YsS0FBS3dKLGFBQ2YsTSxvRUFBQ2IsQ0FBQSxDQTlFcUIsRywwR0N3QnhCLElBQU1rQixFQUEyQixJQUFJeEMsRUFBZTVJLEVBQXNCVSxHQUMxRTBLLEVBQXlCQyxtQkFDekIsSUFBTUMsRUFBdUIsSUFBSTFDLEVBQWU1SSxFQUFzQmlCLEdBQ3RFcUssRUFBcUJELG1CQUNyQixJQUFNRSxFQUF5QixJQUFJM0MsRUFBZTVJLEVBQXNCYSxHQUN4RTBLLEVBQXVCRixtQkFFdkIsSUFBTUcsRUFBYyxJQUFJdEQsRVZ2QkosQ0FDbEJDLGlCQUFrQixpQkFDbEJDLGdCQUFpQixrQkFDakJDLG1CQUFvQixvQlVxQmhCb0QsR0FBbUIsSUFBSS9FLEVBQWMsb0JBNkUzQyxTQUFpQ2dDLEdBQy9CLE9BQU9nRCxHQUFJQyxlQUFlakQsR0FDdkJwQixNQUFLLFNBQUNvQixHQUNMOEMsRUFBWUksWUFBWWxELEVBQzFCLElBQ0NuQixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUksUUFBU0YsRUFDdkIsR0FDSixJQXBGTXFFLEdBQWlCLElBQUkvRixFQUFlLHFCQUNwQ2dHLEdBQWUsSUFBSXBGLEVBQWMsb0JBK0Z2QyxTQUE4QmdDLEdBQzVCLE9BQU9nRCxHQUFJSyxXQUFXckQsR0FDbkJwQixNQUFLLFNBQUNrRCxHQUNMd0IsR0FBWUMsUUFBUUMsR0FBVzFCLEdBQ2pDLElBQ0NqRCxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUksUUFBU0YsRUFDdkIsR0FDSixJQXRHTTJFLEdBQWlCLElBQUl6RixFQUFjLHNCQW9GekMsU0FBZ0NnQyxHQUM5QixPQUFPZ0QsR0FBSVUsaUJBQWlCMUQsR0FDekJwQixNQUFLLFNBQUNvQixHQUNMOEMsRUFBWWEsY0FBYzNELEVBQzVCLElBQ0NuQixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUksUUFBU0YsRUFDdkIsR0FDSixJQTNGTThFLEdBQWtCLElBQUl4RSxFQUFpQix1QkFDdkM0RCxHQUFNLElBQUl4QixFVlhNLENBQ3BCRyxJQUFLLDhDQUNMRSxRQUFTLENBQ1AsZUFBZ0IsbUJBQ2hCLGNBQWlCLDBDVW1CckIsU0FBUzJCLEdBQVcvSyxHQUNsQkEsRUFBU3NDLFlBQWMrSCxFQUFZZSxjQUNuQyxJQUFNQyxFQUFPLElBQUl0TCxFQUFLQyxFQUFVLFFBQVMsQ0FDdkNjLFFBQVN3SyxHQUVUdEssT0FBUSxTQUFDdUssRUFBaUJDLEdBQ3BCSCxFQUFLekksU0FDUDJILEdBQ0drQixXQUFXRixFQUFnQmhKLEtBQzNCNEQsTUFBSyxTQUFDdUYsR0FBVyxPQUFLRixFQUFhRSxFQUFZL0ssTUFBTSxJQUNyRHlGLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxRQUFTRixFQUN2QixJQUVGa0UsR0FDR29CLFFBQVFKLEVBQWdCaEosS0FDeEI0RCxNQUFLLFNBQUN1RixHQUFXLE9BQUtGLEVBQWFFLEVBQVkvSyxNQUFNLElBQ3JEeUYsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJLFFBQVNGLEVBQ3ZCLEdBRU4sRUFFQW5GLFNBQVUsU0FBQ3FLLEVBQWlCSyxHQUMxQlQsR0FBZ0JVLE9BQ2hCVixHQUFnQlcsa0JBQWlCLFdBQy9CdkIsR0FDQ3dCLFdBQVdSLEVBQWdCaEosS0FFM0I0RCxNQUFLLFdBQ0pnRixHQUFnQjVHLFFBQ2hCcUgsR0FDRixJQUNDeEYsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJLFFBQVNGLEVBQ3ZCLEdBQ0YsR0FDRixJQUlGLE9BRG9CZ0YsRUFBS1csY0FFM0IsQ0FwREF4QyxRQUFReUMsSUFBSSxDQUFDMUIsR0FBSWEsY0FBZWIsR0FBSTJCLGdCQUNqQy9GLE1BQUssU0FBQTdDLEdBQW1CLEksSUFBQTZJLEcsRUFBQSxFLDRDQUFBN0ksSSxvMkJBQWpCaUUsRUFBSTRFLEVBQUEsR0FBRXhJLEVBQUt3SSxFQUFBLEdBQ2pCOUIsRUFBWUksWUFBWWxELEdBQ3hCOEMsRUFBWWEsY0FBYzNELEdBQzFCc0QsR0FBWXVCLFlBQVl6SSxFQUMxQixJQUNDeUMsT0FBTyxTQUFDQyxHQUNQQyxRQUFRQyxJQUFLRixFQUNmLElBOENGLElBQU13RSxHQUFjLElBQUl4SCxFQUFRLENBQzlCRyxTQUFVLFNBQUN4RCxHQUNUNkssR0FBWUMsUUFBUUMsR0FBVy9LLEdBQ2pDLEdBQ0MsZ0JBRUgsU0FBU3NMLEdBQWdCL0ssRUFBTUUsR0FDN0JpSyxHQUFlbUIsS0FBS3RMLEVBQU1FLEVBQzVCLENBc0NBMEssR0FBZ0JrQixvQkFDaEIvQixHQUFpQitCLG9CQUNqQnJCLEdBQWVxQixvQkFDZjFCLEdBQWEwQixvQkFFYi9NLEVBQXVCNEQsaUJBQWlCLFNBQVMsV0F6Q2pELElBQ1FvSixFQXlDTnJDLEVBQXlCcEIsb0JBQ3pCeUIsR0FBaUJ1QixPQTFDWFMsRUFBV2pDLEVBQVllLGNBQzdCNUwsRUFBVTRCLE1BQVFrTCxFQUFTL0wsS0FDM0JkLEVBQVMyQixNQUFRa0wsRUFBUzlFLEtBMEM1QixJQUVBM0gsRUFBcUJxRCxpQkFBaUIsU0FBUyxXQUM3Q3lILEdBQWFrQixPQUNiMUIsRUFBcUJvQyxpQkFDdkIsSUFFQTVNLEVBQU91RCxpQkFBaUIsU0FBUyxXQUMvQjhILEdBQWVhLE9BQ2Z6QixFQUF1Qm1DLGlCQUN6QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29udHN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHZhbGlkYXRpb25QYXJhbWV0ZXJzID0ge1xuICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19zYXZlLWJ1dHRvbicsXG4gIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxuICBpbnB1dEVycm9yQWN0aXZlOiAnZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJ1xufTtcblxuY29uc3QgcHJvZmlsZVVzZXIgPSB7XG4gIHVzZXJOYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsXG4gIHVzZXJKb2JTZWxlY3RvcjogJy5wcm9maWxlX19hYm91dCcsXG4gIHVzZXJBdmF0YXJTZWxlY3RvcjogJy5wcm9maWxlX19pbWFnZSdcbn1cblxuY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfZWRpdCcpO1xuY29uc3QgYnV0dG9uT3BlblBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuY29uc3QgZm9ybUVsZW1lbnRQcm9maWxlID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG5jb25zdCBuYW1lSW5wdXQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfdXNlci1uYW1lJyk7XG5jb25zdCBqb2JJbnB1dCA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV9hYm91dCcpO1xuY29uc3QgcG9wdXBBZGRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9hdmF0YXInKTtcbmNvbnN0IGZvcm1BZGRBdmF0YXIgPSBwb3B1cEFkZEF2YXRhci5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuY29uc3QgcG9wdXBBZGROZXdDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfY2FyZCcpO1xuY29uc3QgYnV0dG9uT3BlbkFkZE5ld0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuY29uc3QgZm9ybUVsZW1lbnRDYXJkID0gcG9wdXBBZGROZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG5cbmNvbnN0IGFwaVBhcmFtZXRlcnMgPSB7XG4gIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICBcImF1dGhvcml6YXRpb25cIjogXCJhYmViNjk4Ny0xMTMxLTRhOGMtOGUxMy00ZWNlNzQ2YzhlN2JcIixcbiAgfVxufTtcblxuZXhwb3J0IHtcbiAgdmFsaWRhdGlvblBhcmFtZXRlcnMsXG4gIHByb2ZpbGVVc2VyLFxuICBwb3B1cFByb2ZpbGUsXG4gIGJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUsXG4gIGZvcm1FbGVtZW50UHJvZmlsZSxcbiAgbmFtZUlucHV0LFxuICBqb2JJbnB1dCxcbiAgcG9wdXBBZGROZXdDYXJkLFxuICBmb3JtQWRkQXZhdGFyLFxuICBhdmF0YXIsXG4gIGJ1dHRvbk9wZW5BZGROZXdDYXJkLFxuICBmb3JtRWxlbWVudENhcmQsXG4gIGFwaVBhcmFtZXRlcnNcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoY2FyZERhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlcikge1xuICAgIHRoaXMuX2NhcmREYXRhID0gY2FyZERhdGE7XG4gICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGNhcmREYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBjYXJkRGF0YS5saWtlcztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlci5vbkNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlID0gaGFuZGxlci5vbkxpa2U7XG4gICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZXIub25EZWxldGU7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAuY29udGVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgIGNvbnN0IGNhcmRQaG90byA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3Bob3RvJyk7XG4gICAgY2FyZFBob3RvLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgY2FyZFBob3RvLmFsdCA9IHRoaXMuX25hbWU7XG5cbiAgICB0aGlzLl9jYXJkUGhvdG8gPSBjYXJkUGhvdG87XG5cbiAgICBjb25zdCBjYXJkTmFtZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RpdGxlJyk7XG4gICAgY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J1dHRvbi1saWtlJyk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWNvdW50ZXInKTtcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9idXR0b25UcmFzaCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3JlY3ljbGUtYmluJyk7XG5cbiAgICBpZighdGhpcy5faXNPd25lckNhcmQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uVHJhc2gucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy50b29nbGVCdXR0b25MaWtlKClcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfaXNPd25lckNhcmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmREYXRhLmN1cnJlbnRVc2VyLl9pZCA9PT0gdGhpcy5fY2FyZERhdGEub3duZXIuX2lkXG4gIH1cblxuICBpc0xpa2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmREYXRhLmxpa2VzLnNvbWUoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLl9pZCA9PT0gdGhpcy5fY2FyZERhdGEuY3VycmVudFVzZXIuX2lkXG4gICAgfSlcbiAgfVxuXG4gIHRvb2dsZUJ1dHRvbkxpa2UoKSB7XG4gICAgaWYgKHRoaXMuaXNMaWtlKCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUxpa2UoKSB7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UoXG4gICAgICB0aGlzLl9jYXJkRGF0YSxcbiAgICAgICh1cGRhdGVkTGlrZSkgPT4ge1xuICAgICAgICB0aGlzLl9jYXJkRGF0YS5saWtlcyA9IHVwZGF0ZWRMaWtlO1xuICAgICAgICB0aGlzLnRvb2dsZUJ1dHRvbkxpa2UoKTtcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9jYXJkRGF0YS5saWtlcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5fY2FyZFBob3RvID0gbnVsbDtcbiAgICB0aGlzLl9idXR0b25MaWtlID0gbnVsbDtcbiAgICB0aGlzLl9idXR0b25UcmFzaCA9IG51bGw7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZFBob3RvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2J1dHRvblRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzLl9jYXJkRGF0YSwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9kZWxldGVDYXJkKCk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKVxuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShjYXJkRWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb3ZlcmxheUNsb3NlID0gdGhpcy5fb3ZlcmxheUNsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBfb3ZlcmxheUNsb3NlKGV2dCkge1xuICAgIGlmIChldnQudGFyZ2V0ID09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpO1xuXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpXG4gICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1jYXB0aW9uJyk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pbnB1dCcpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX3NhdmUtYnV0dG9uJyk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuXG4gICAgdGhpcy5fZm9ybUlucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZX0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGluaXRpYWxUZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJztcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5jbG9zZSgpKVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGluaXRpYWxUZXh0O1xuICAgICAgICB9KTtcbiAgICB9KVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxldG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxldG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICB0aGlzLl9jb25maXJtU3RlcCA9ICgpID0+IHt9O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2NvbmZpcm1TdGVwKCk7XG4gICAgfSk7XG5cbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgc2V0Q29uZmlybUFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9jb25maXJtU3RlcCA9IGFjdGlvbjtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJKb2JTZWxlY3RvciwgdXNlckF2YXRhclNlbGVjdG9yfSkge1xuICAgIHRoaXMuX3VzZXJOYW1lU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJKb2JTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyQXZhdGFyU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBdmF0YXJTZWxlY3Rvcik7XG4gICAgdGhpcy5fZGF0YSA9IHt9O1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cblxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fdXNlck5hbWVTZWxlY3Rvci50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl91c2VySm9iU2VsZWN0b3IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICB9XG5cbiAgc2V0VXNlckF2YXRhcihkYXRhKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fdXNlckF2YXRhclNlbGVjdG9yLnNyYyA9IGRhdGEuYXZhdGFyO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25QYXJhbWV0ZXJzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzID0gdmFsaWRhdGlvblBhcmFtZXRlcnM7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzLmlucHV0U2VsZWN0b3IpKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5pbnB1dEVycm9yQWN0aXZlKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5pbnB1dEVycm9yQWN0aXZlKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihhcGlQYXJhbWV0ZXJzKSB7XG4gICAgdGhpcy5fdXJsID0gYXBpUGFyYW1ldGVycy51cmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGFwaVBhcmFtZXRlcnMuaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVSZXBseShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxuXG4gIGdldEFsbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxuXG4gIHVwZGF0ZVVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBkYXRhLm5hbWUsIGFib3V0OiBkYXRhLmFib3V0IH0pXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBhZGROZXdDYXJkKGNhcmREYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZERhdGEpXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBzZXRMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpZH0vbGlrZXNgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBkZWxldGVMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpZH0vbGlrZXNgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICB1cGRhdGVVc2VyQXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcbmltcG9ydCB7XG4gIHZhbGlkYXRpb25QYXJhbWV0ZXJzLFxuICBwcm9maWxlVXNlcixcbiAgYnV0dG9uT3BlblBvcHVwUHJvZmlsZSxcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxuICBuYW1lSW5wdXQsXG4gIGpvYklucHV0LFxuICBmb3JtQWRkQXZhdGFyLFxuICBhdmF0YXIsXG4gIGJ1dHRvbk9wZW5BZGROZXdDYXJkLFxuICBmb3JtRWxlbWVudENhcmQsXG4gIGFwaVBhcmFtZXRlcnNcbn0gZnJvbSAnLi4vdXRpbHMvY29udHN0YW50cy5qcyc7XG5cbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5cbmNvbnN0IGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yICh2YWxpZGF0aW9uUGFyYW1ldGVycywgZm9ybUVsZW1lbnRQcm9maWxlKTtcbmVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yICh2YWxpZGF0aW9uUGFyYW1ldGVycywgZm9ybUVsZW1lbnRDYXJkKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IGFkZEF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAodmFsaWRhdGlvblBhcmFtZXRlcnMsIGZvcm1BZGRBdmF0YXIpO1xuYWRkQXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHVzZXJQcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVVc2VyKTtcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfZWRpdCcsIGNoYW5nZVByb2ZpbGVGb3JtU3VibWl0KTtcbmNvbnN0IHBvcHVwT3BlbkltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdHlwZV9pbWFnZScpO1xuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2NhcmQnLCBjcmVhdGVDYXJkRm9ybVN1Ym1pdCk7XG5jb25zdCBwb3B1cEFkZEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9hdmF0YXInLCBjaGFuZ2VBdmF0YXJGb3JtU3VibWl0KTtcbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKCcucG9wdXBfdHlwZV9jb25maXJtJyk7XG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaVBhcmFtZXRlcnMpO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRBbGxDYXJkcygpXSlcbiAgLnRoZW4oKFtkYXRhLCBpdGVtc10pID0+IHtcbiAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICB1c2VyUHJvZmlsZS5zZXRVc2VyQXZhdGFyKGRhdGEpO1xuICAgIGNhcmRzR2FsZWd5LnJlbmRlckl0ZW1zKGl0ZW1zKTtcbiAgfSlcbiAgLmNhdGNoICgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2cgKGVycik7XG4gIH0pXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY2FyZERhdGEuY3VycmVudFVzZXIgPSB1c2VyUHJvZmlsZS5nZXRVc2VySW5mbygpO1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsICcjY2FyZCcsIHtcbiAgICBvbkNsaWNrOiBoYW5kbGVDYXJkQ2xpY2ssXG5cbiAgICBvbkxpa2U6IChjdXJyZW50Q2FyZERhdGEsIGxpa2VDYWxsYmFjaykgPT4ge1xuICAgICAgaWYgKGNhcmQuaXNMaWtlKCkpIHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmRlbGV0ZUxpa2UoY3VycmVudENhcmREYXRhLl9pZClcbiAgICAgICAgICAudGhlbigodXBkYXRlZENhcmQpID0+IGxpa2VDYWxsYmFjayh1cGRhdGVkQ2FyZC5saWtlcykpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5zZXRMaWtlKGN1cnJlbnRDYXJkRGF0YS5faWQpXG4gICAgICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiBsaWtlQ2FsbGJhY2sodXBkYXRlZENhcmQubGlrZXMpKVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIG9uRGVsZXRlOiAoY3VycmVudENhcmREYXRhLCBkZWxldGVDYWxsYmFjaykgPT4ge1xuICAgICAgcG9wdXBEZWxldGVDYXJkLm9wZW4oKTtcbiAgICAgIHBvcHVwRGVsZXRlQ2FyZC5zZXRDb25maXJtQWN0aW9uKCgpID0+IHtcbiAgICAgICAgYXBpXG4gICAgICAgIC5kZWxldGVDYXJkKGN1cnJlbnRDYXJkRGF0YS5faWQpXG5cbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHBvcHVwRGVsZXRlQ2FyZC5jbG9zZSgpO1xuICAgICAgICAgIGRlbGV0ZUNhbGxiYWNrKClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuY29uc3QgY2FyZHNHYWxlZ3kgPSBuZXcgU2VjdGlvbih7XG4gIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcbiAgICBjYXJkc0dhbGVneS5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZERhdGEpKTtcbiAgfSxcbn0sICcucGhvdG9fX2xpc3QnKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcbiAgcG9wdXBPcGVuSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbn07XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGUoKSB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlclByb2ZpbGUuZ2V0VXNlckluZm8oKTtcbiAgbmFtZUlucHV0LnZhbHVlID0gdXNlckRhdGEubmFtZTtcbiAgam9iSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5hYm91dDtcbn07XG5cbmZ1bmN0aW9uIGNoYW5nZVByb2ZpbGVGb3JtU3VibWl0KGRhdGEpIHtcbiAgcmV0dXJuIGFwaS51cGRhdGVVc2VySW5mbyhkYXRhKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgfSlcbn07XG5cbmZ1bmN0aW9uIGNoYW5nZUF2YXRhckZvcm1TdWJtaXQoZGF0YSkge1xuICByZXR1cm4gYXBpLnVwZGF0ZVVzZXJBdmF0YXIoZGF0YSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlclByb2ZpbGUuc2V0VXNlckF2YXRhcihkYXRhKVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgfSlcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmRGb3JtU3VibWl0KGRhdGEpIHtcbiAgcmV0dXJuIGFwaS5hZGROZXdDYXJkKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY2FyZHNHYWxlZ3kuYWRkSXRlbShjcmVhdGVDYXJkKHJlcykpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgfSlcbn07XG5cbnBvcHVwRGVsZXRlQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBBZGRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5idXR0b25PcGVuUG9wdXBQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XG4gIGhhbmRsZVByb2ZpbGUoKTtcbn0pO1xuXG5idXR0b25PcGVuQWRkTmV3Q2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IuY2xlYXJWYWxpZGF0aW9uKCk7XG59KVxuXG5hdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQWRkQXZhdGFyLm9wZW4oKTtcbiAgYWRkQXZhdGFyRm9ybVZhbGlkYXRvci5jbGVhclZhbGlkYXRpb24oKTtcbn0pXG4iXSwibmFtZXMiOlsidmFsaWRhdGlvblBhcmFtZXRlcnMiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQWN0aXZlIiwicG9wdXBQcm9maWxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnV0dG9uT3BlblBvcHVwUHJvZmlsZSIsImZvcm1FbGVtZW50UHJvZmlsZSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiZm9ybUFkZEF2YXRhciIsImF2YXRhciIsInBvcHVwQWRkTmV3Q2FyZCIsImJ1dHRvbk9wZW5BZGROZXdDYXJkIiwiZm9ybUVsZW1lbnRDYXJkIiwiQ2FyZCIsImNhcmREYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfY2FyZERhdGEiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwib25DbGljayIsIl9oYW5kbGVDYXJkTGlrZSIsIm9uTGlrZSIsIl9oYW5kbGVDYXJkRGVsZXRlIiwib25EZWxldGUiLCJrZXkiLCJ2YWx1ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsImNhcmRQaG90byIsInNyYyIsImFsdCIsIl9jYXJkUGhvdG8iLCJ0ZXh0Q29udGVudCIsIl9idXR0b25MaWtlIiwiX2xpa2VDb3VudGVyIiwibGVuZ3RoIiwiX2J1dHRvblRyYXNoIiwiX2lzT3duZXJDYXJkIiwicmVtb3ZlIiwidG9vZ2xlQnV0dG9uTGlrZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImN1cnJlbnRVc2VyIiwiX2lkIiwib3duZXIiLCJfdGhpcyIsInNvbWUiLCJpdGVtIiwiaXNMaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwiX3RoaXMyIiwidXBkYXRlZExpa2UiLCJfdGhpczMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2UiLCJfZGVsZXRlQ2FyZCIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsInJldmVyc2UiLCJmb3JFYWNoIiwiY2FyZEVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9vdmVybGF5Q2xvc2UiLCJldnQiLCJjbG9zZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJfdGhpc1N1cGVyIiwiY2FsbCIsIl9wb3B1cEltYWdlIiwiX3BvcHVwSW1hZ2VUaXRsZSIsIl9nZXQiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9mb3JtSW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3N1Ym1pdEJ1dHRvbiIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJwcmV2ZW50RGVmYXVsdCIsImluaXRpYWxUZXh0IiwiX2dldElucHV0VmFsdWVzIiwidGhlbiIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNvbmNhdCIsImZpbmFsbHkiLCJyZXNldCIsIlBvcHVwV2l0aENvbmZpcm0iLCJwb3B1cFNlbGV0b3IiLCJfY29uZmlybVN0ZXAiLCJhY3Rpb24iLCJVc2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VySm9iU2VsZWN0b3IiLCJ1c2VyQXZhdGFyU2VsZWN0b3IiLCJfdXNlck5hbWVTZWxlY3RvciIsIl91c2VySm9iU2VsZWN0b3IiLCJfdXNlckF2YXRhclNlbGVjdG9yIiwiX2RhdGEiLCJkYXRhIiwiYWJvdXQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl92YWxpZGF0aW9uUGFyYW1ldGVycyIsIl9mb3JtRWxlbWVudCIsIl9idXR0b25FbGVtZW50IiwiQXJyYXkiLCJmcm9tIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJBcGkiLCJhcGlQYXJhbWV0ZXJzIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIl9oYW5kbGVSZXBseSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFkZENhcmRGb3JtVmFsaWRhdG9yIiwiYWRkQXZhdGFyRm9ybVZhbGlkYXRvciIsInVzZXJQcm9maWxlIiwicG9wdXBFZGl0UHJvZmlsZSIsImFwaSIsInVwZGF0ZVVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJwb3B1cE9wZW5JbWFnZSIsInBvcHVwQWRkQ2FyZCIsImFkZE5ld0NhcmQiLCJjYXJkc0dhbGVneSIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwicG9wdXBBZGRBdmF0YXIiLCJ1cGRhdGVVc2VyQXZhdGFyIiwic2V0VXNlckF2YXRhciIsInBvcHVwRGVsZXRlQ2FyZCIsImdldFVzZXJJbmZvIiwiY2FyZCIsImhhbmRsZUNhcmRDbGljayIsImN1cnJlbnRDYXJkRGF0YSIsImxpa2VDYWxsYmFjayIsImRlbGV0ZUxpa2UiLCJ1cGRhdGVkQ2FyZCIsInNldExpa2UiLCJkZWxldGVDYWxsYmFjayIsIm9wZW4iLCJzZXRDb25maXJtQWN0aW9uIiwiZGVsZXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImFsbCIsImdldEFsbENhcmRzIiwiX3JlZjIiLCJyZW5kZXJJdGVtcyIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlckRhdGEiLCJjbGVhclZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9