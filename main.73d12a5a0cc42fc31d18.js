(()=>{"use strict";var t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__save-button",inputErrorClass:"form__input_type_error",inputErrorActive:"form__input-error_active"},e=document.querySelector(".popup_type_edit"),r=document.querySelector(".profile__edit-button"),n=e.querySelector(".form"),o=e.querySelector(".form__input_type_user-name"),i=e.querySelector(".form__input_type_about"),u=document.querySelector(".popup_type_avatar").querySelector(".form"),a=document.querySelector(".profile__avatar"),c=document.querySelector(".popup_type_card"),l=document.querySelector(".profile__add-button"),s=c.querySelector(".form");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}var y=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cardData=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._cardSelector=r,this._handleCardClick=n.onClick,this._handleCardLike=n.onLike,this._handleCardDelete=n.onDelete}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){this._element=this._getTemplate();var t=this._element.querySelector(".card__photo");return t.src=this._link,t.alt=this._name,this._cardPhoto=t,this._element.querySelector(".card__title").textContent=this._name,this._buttonLike=this._element.querySelector(".card__button-like"),this._likeCounter=this._element.querySelector(".card__like-counter"),this._likeCounter.textContent=this._likes.length,this._buttonTrash=this._element.querySelector(".card__recycle-bin"),this._isOwnerCard()||this._buttonTrash.remove(),this.toogleButtonLike(),this._setEventListeners(),this._element}},{key:"_isOwnerCard",value:function(){return this._cardData.currentUser._id===this._cardData.owner._id}},{key:"isLike",value:function(){var t=this;return this._cardData.likes.some((function(e){return e._id===t._cardData.currentUser._id}))}},{key:"toogleButtonLike",value:function(){this.isLike()?this._buttonLike.classList.add("card__button-like_active"):this._buttonLike.classList.remove("card__button-like_active")}},{key:"_handleLike",value:function(){var t=this;this._handleCardLike(this._cardData,(function(e){t._cardData.likes=e,t.toogleButtonLike(),t._likeCounter.textContent=t._cardData.likes.length}))}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null,this._cardPhoto=null,this._buttonLike=null,this._buttonTrash=null}},{key:"_setEventListeners",value:function(){var t=this;this._cardPhoto.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)})),this._buttonLike.addEventListener("click",(function(){t._handleLike()})),this._buttonTrash.addEventListener("click",(function(){t._handleCardDelete(t._cardData,(function(){t._deleteCard()}))}))}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}var d=function(){function t(e,r){var n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=n,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(t){var e=this;t.reverse().forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}var _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._overlayClose=this._overlayClose.bind(this)}var e,r;return e=t,(r=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_overlayClose",value:function(t){t.target==t.currentTarget&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._overlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._overlayClose)}},{key:"setEventListeners",value:function(){var t=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){t.close()}))}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===S(o)?o:String(o)),n)}var o}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(this,arguments)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(o){var r=O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}(this,t)});function u(t){var e,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._popupImage=r._popup.querySelector(".popup__image"),r._popupImageTitle=r._popup.querySelector(".popup__image-caption"),E((e=w(r),O(u.prototype)),"setEventListeners",e).call(e),r}return e=u,(r=[{key:"open",value:function(t,e){this._popupImage.src=e,this._popupImage.alt=t,this._popupImageTitle.textContent=t,E(O(u.prototype),"open",this).call(this)}}])&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===j(o)?o:String(o)),n)}var o}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},C.apply(this,arguments)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(n);if(o){var r=T(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._form=r._popup.querySelector(".form"),r._formInputList=r._form.querySelectorAll(".form__input"),r._handleFormSubmit=e,r._submitButton=r._form.querySelector(".form__save-button"),r}return e=u,(r=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._formInputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues()),t.close()})),C(T(u.prototype),"setEventListeners",this).call(this)}},{key:"setSavingMode",value:function(){this._submitButton.textContent="Сохранение..."}},{key:"removeSavingMode",value:function(){this._submitButton.textContent="Сохранить"}},{key:"close",value:function(){this._form.reset(),C(T(u.prototype),"close",this).call(this)}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},D.apply(this,arguments)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(n);if(o){var r=B(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".form"),e._confirmStep=function(){},e}return e=u,(r=[{key:"setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t._confirmStep()})),D(B(u.prototype),"setEventListeners",this).call(this)}},{key:"setConfirmAction",value:function(t){this._confirmStep=t}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===V(o)?o:String(o)),n)}var o}var N=function(){function t(e){var r=e.userNameSelector,n=e.userJobSelector,o=e.userAvatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userNameSelector=document.querySelector(r),this._userJobSelector=document.querySelector(n),this._userAvatarSelector=document.querySelector(o),this._data={}}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return this._data}},{key:"setUserInfo",value:function(t){this._data=t,this._userNameSelector.textContent=t.name,this._userJobSelector.textContent=t.about}},{key:"setUserAvatar",value:function(t){this._data=t,this._userAvatarSelector.src=t.avatar}}])&&M(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H(n.key),n)}}function H(t){var e=function(t,e){if("object"!==J(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===J(e)?e:String(e)}var z=function(){function t(e,r){var n,o,i,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(){return u._inputList.some((function(t){return!t.validity.valid}))},(o=H(o="_hasInvalidInput"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this._validationParameters=e,this._formElement=r,this._buttonElement=this._formElement.querySelector(this._validationParameters.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._validationParameters.inputSelector))}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t,e){var r=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._validationParameters.inputErrorClass),r.textContent=e,r.classList.add(this._validationParameters.inputErrorActive)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._validationParameters.inputErrorClass),e.classList.remove(this._validationParameters.inputErrorActive),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.setAttribute("disabled",!0):this._buttonElement.removeAttribute("disabled")}},{key:"clearValidation",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))}))}}])&&F(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$(o)?o:String(o)),n)}var o}var K=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var e,r;return e=t,r=[{key:"_handleReply",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleReply)}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleReply)}},{key:"updateUserInfo",value:function(t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then(this._handleReply)}},{key:"addNewCard",value:function(t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then(this._handleReply)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"setLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then(this._handleReply)}},{key:"deleteLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"updateUserAvatar",value:function(t){var e=t.avatar;return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then(this._handleReply)}}],r&&G(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W=new z(t,n);W.enableValidation();var X=new z(t,s);X.enableValidation();var Y=new z(t,u);Y.enableValidation();var Z=new N({userNameSelector:".profile__name",userJobSelector:".profile__about",userAvatarSelector:".profile__image"}),tt=new I(".popup_type_edit",(function(t){var e=t.name,r=t.about;tt.setSavingMode(),it.updateUserInfo({name:e,about:r}).then((function(t){Z.setUserInfo(t)})).catch((function(t){console.log("ERROR",t)})).finally((function(){return tt.removeSavingMode()}))})),et=new P(".popup_type_image"),rt=new I(".popup_type_card",(function(t){rt.setSavingMode(),it.addNewCard({name:t.name,link:t.link}).then((function(t){at.addItem(ut(t))})).catch((function(t){console.log("ERROR",t)})).finally((function(){return rt.removeSavingMode()}))})),nt=new I(".popup_type_avatar",(function(t){var e=t.avatar;nt.setSavingMode(),it.updateUserAvatar({avatar:e}).then((function(t){Z.setUserAvatar(t)})).catch((function(t){console.log("ERROR",t)})).finally((function(){return nt.removeSavingMode()}))})),ot=new x(".popup_type_confirm"),it=new K({url:"https://mesto.nomoreparties.co/v1/cohort-61",headers:{"Content-Type":"application/json",authorization:"abeb6987-1131-4a8c-8e13-4ece746c8e7b"}});function ut(t){t.currentUser=Z.getUserInfo();var e=new y(t,"#card",{onClick:ct,onLike:function(t,r){e.isLike()?it.deleteLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("Ошибка",t)})):it.setLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("Ошибка",t)}))},onDelete:function(t,e){ot.open(),ot.setConfirmAction((function(){it.deleteCard(t._id).then((function(){ot.close(),e()})).catch((function(t){console.log("ERROR",t)}))}))}});return e.generateCard()}Promise.all([it.getUserInfo(),it.getAllCards()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];Z.setUserInfo(o),Z.setUserAvatar(o),at.renderItems(i)})).catch((function(t){console.log(t)}));var at=new d({renderer:function(t){at.addItem(ut(t))}},".photo__list");function ct(t,e){et.open(t,e)}ot.setEventListeners(),tt.setEventListeners(),nt.setEventListeners(),rt.setEventListeners(),r.addEventListener("click",(function(){var t;W.toggleButtonState(),tt.open(),t=Z.getUserInfo(),o.value=t.name,i.value=t.about})),l.addEventListener("click",(function(){rt.open(),X.clearValidation()})),a.addEventListener("click",(function(){nt.open(),Y.clearValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi4zZTk1MjU1NjljZWQzNzczMThmYy5qcyIsIm1hcHBpbmdzIjoibUJBQUEsSUFBTUEsRUFBdUIsQ0FDM0JDLGFBQWMsUUFDZEMsY0FBZSxlQUNmQyxxQkFBc0IscUJBQ3RCQyxnQkFBaUIseUJBQ2pCQyxpQkFBa0IsNEJBU2RDLEVBQWVDLFNBQVNDLGNBQWMsb0JBQ3RDQyxFQUF5QkYsU0FBU0MsY0FBYyx5QkFDaERFLEVBQXFCSixFQUFhRSxjQUFjLFNBQ2hERyxFQUFZTCxFQUFhRSxjQUFjLCtCQUN2Q0ksRUFBV04sRUFBYUUsY0FBYywyQkFFdENLLEVBRGlCTixTQUFTQyxjQUFjLHNCQUNUQSxjQUFjLFNBQzdDTSxFQUFTUCxTQUFTQyxjQUFjLG9CQUNoQ08sRUFBa0JSLFNBQVNDLGNBQWMsb0JBQ3pDUSxFQUF1QlQsU0FBU0MsY0FBYyx3QkFDOUNTLEVBQWtCRixFQUFnQlAsY0FBYyxTLHVxQkN4QmpDVSxFQUFJLFdBQ3ZCLFNBQUFBLEVBQVlDLEVBQVVDLEVBQWNDLEksNEZBQVNDLENBQUEsS0FBQUosR0FDM0NLLEtBQUtDLFVBQVlMLEVBQ2pCSSxLQUFLRSxNQUFRTixFQUFTTyxLQUN0QkgsS0FBS0ksTUFBUVIsRUFBU1MsS0FDdEJMLEtBQUtNLE9BQVNWLEVBQVNXLE1BQ3ZCUCxLQUFLUSxjQUFnQlgsRUFDckJHLEtBQUtTLGlCQUFtQlgsRUFBUVksUUFDaENWLEtBQUtXLGdCQUFrQmIsRUFBUWMsT0FDL0JaLEtBQUthLGtCQUFvQmYsRUFBUWdCLFFBQ25DLEMsUUF5RkMsTyxFQXpGQW5CLEcsRUFBQSxFQUFBb0IsSUFBQSxlQUFBQyxNQUVELFdBT0UsT0FOb0JoQyxTQUNuQkMsY0FBY2UsS0FBS1EsZUFDbkJTLFFBQ0FoQyxjQUFjLFNBQ2RpQyxXQUFVLEVBR2IsR0FBQyxDQUFBSCxJQUFBLGVBQUFDLE1BRUQsV0FDRWhCLEtBQUttQixTQUFXbkIsS0FBS29CLGVBRXJCLElBQU1DLEVBQVlyQixLQUFLbUIsU0FBU2xDLGNBQWMsZ0JBcUI5QyxPQXBCQW9DLEVBQVVDLElBQU10QixLQUFLSSxNQUNyQmlCLEVBQVVFLElBQU12QixLQUFLRSxNQUVyQkYsS0FBS3dCLFdBQWFILEVBRURyQixLQUFLbUIsU0FBU2xDLGNBQWMsZ0JBQ3BDd0MsWUFBY3pCLEtBQUtFLE1BRTVCRixLQUFLMEIsWUFBYzFCLEtBQUttQixTQUFTbEMsY0FBYyxzQkFDL0NlLEtBQUsyQixhQUFlM0IsS0FBS21CLFNBQVNsQyxjQUFjLHVCQUNoRGUsS0FBSzJCLGFBQWFGLFlBQWN6QixLQUFLTSxPQUFPc0IsT0FDNUM1QixLQUFLNkIsYUFBZTdCLEtBQUttQixTQUFTbEMsY0FBYyxzQkFFNUNlLEtBQUs4QixnQkFDUDlCLEtBQUs2QixhQUFhRSxTQUdwQi9CLEtBQUtnQyxtQkFDTGhDLEtBQUtpQyxxQkFFRWpDLEtBQUttQixRQUNkLEdBQUMsQ0FBQUosSUFBQSxlQUFBQyxNQUVELFdBQ0UsT0FBT2hCLEtBQUtDLFVBQVVpQyxZQUFZQyxNQUFRbkMsS0FBS0MsVUFBVW1DLE1BQU1ELEdBQ2pFLEdBQUMsQ0FBQXBCLElBQUEsU0FBQUMsTUFFRCxXQUFTLElBQUFxQixFQUFBLEtBQ1AsT0FBT3JDLEtBQUtDLFVBQVVNLE1BQU0rQixNQUFLLFNBQUNDLEdBQ2hDLE9BQU9BLEVBQUtKLE1BQVFFLEVBQUtwQyxVQUFVaUMsWUFBWUMsR0FDakQsR0FDRixHQUFDLENBQUFwQixJQUFBLG1CQUFBQyxNQUVELFdBQ01oQixLQUFLd0MsU0FDUHhDLEtBQUswQixZQUFZZSxVQUFVQyxJQUFJLDRCQUUvQjFDLEtBQUswQixZQUFZZSxVQUFVVixPQUFPLDJCQUV0QyxHQUFDLENBQUFoQixJQUFBLGNBQUFDLE1BRUQsV0FBYyxJQUFBMkIsRUFBQSxLQUNaM0MsS0FBS1csZ0JBQ0hYLEtBQUtDLFdBQ0wsU0FBQzJDLEdBQ0NELEVBQUsxQyxVQUFVTSxNQUFRcUMsRUFDdkJELEVBQUtYLG1CQUNMVyxFQUFLaEIsYUFBYUYsWUFBY2tCLEVBQUsxQyxVQUFVTSxNQUFNcUIsTUFDdkQsR0FDSixHQUFDLENBQUFiLElBQUEsY0FBQUMsTUFFRCxXQUNFaEIsS0FBS21CLFNBQVNZLFNBQ2QvQixLQUFLbUIsU0FBVyxLQUNoQm5CLEtBQUt3QixXQUFhLEtBQ2xCeEIsS0FBSzBCLFlBQWMsS0FDbkIxQixLQUFLNkIsYUFBZSxJQUN0QixHQUFDLENBQUFkLElBQUEscUJBQUFDLE1BRUQsV0FBcUIsSUFBQTZCLEVBQUEsS0FDbkI3QyxLQUFLd0IsV0FBV3NCLGlCQUFpQixTQUFTLFdBQ3hDRCxFQUFLcEMsaUJBQWlCb0MsRUFBSzNDLE1BQU8yQyxFQUFLekMsTUFDekMsSUFFQUosS0FBSzBCLFlBQVlvQixpQkFBaUIsU0FBUyxXQUN6Q0QsRUFBS0UsYUFDUCxJQUVBL0MsS0FBSzZCLGFBQWFpQixpQkFBaUIsU0FBUyxXQUMxQ0QsRUFBS2hDLGtCQUFrQmdDLEVBQUs1QyxXQUFXLFdBQ3JDNEMsRUFBS0csYUFDUCxHQUNGLEdBQ0YsTSxvRUFBQ3JELENBQUEsQ0FuR3NCLEcsdXFCQ0FKc0QsRUFBTyxXQUMxQixTQUFBQSxFQUFBQyxFQUEwQkMsR0FBbUIsSUFBL0JDLEVBQVFGLEVBQVJFLFUsNEZBQVFyRCxDQUFBLEtBQUFrRCxHQUNwQmpELEtBQUtxRCxVQUFZRCxFQUNqQnBELEtBQUtzRCxXQUFhdEUsU0FBU0MsY0FBY2tFLEVBQzNDLEMsUUFVQyxPLEVBVkFGLEcsRUFBQSxFQUFBbEMsSUFBQSxjQUFBQyxNQUVELFNBQVl1QyxHQUFPLElBQUFsQixFQUFBLEtBQ2pCa0IsRUFBTUMsVUFBVUMsU0FBUSxTQUFDbEIsR0FDdkJGLEVBQUtnQixVQUFVZCxFQUNqQixHQUNGLEdBQUMsQ0FBQXhCLElBQUEsVUFBQUMsTUFFRCxTQUFRMEMsR0FDTjFELEtBQUtzRCxXQUFXSyxRQUFRRCxFQUMxQixNLG9FQUFDVCxDQUFBLENBZHlCLEcsdXFCQ0FQVyxFQUFLLFdBQ3hCLFNBQUFBLEVBQVlDLEksNEZBQWU5RCxDQUFBLEtBQUE2RCxHQUN6QjVELEtBQUs4RCxPQUFTOUUsU0FBU0MsY0FBYzRFLEdBQ3JDN0QsS0FBSytELGdCQUFrQi9ELEtBQUsrRCxnQkFBZ0JDLEtBQUtoRSxNQUNqREEsS0FBS2lFLGNBQWdCakUsS0FBS2lFLGNBQWNELEtBQUtoRSxLQUMvQyxDLFFBZ0NDLE8sRUFoQ0E0RCxHLEVBQUEsRUFBQTdDLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0JrRCxHQUNFLFdBQVpBLEVBQUluRCxLQUNOZixLQUFLbUUsT0FFVCxHQUFDLENBQUFwRCxJQUFBLGdCQUFBQyxNQUVELFNBQWNrRCxHQUNSQSxFQUFJRSxRQUFVRixFQUFJRyxlQUNwQnJFLEtBQUttRSxPQUVULEdBQUMsQ0FBQXBELElBQUEsT0FBQUMsTUFFRCxXQUNFaEIsS0FBSzhELE9BQU9yQixVQUFVQyxJQUFJLGdCQUMxQjFELFNBQVM4RCxpQkFBaUIsVUFBVzlDLEtBQUsrRCxpQkFDMUMvRCxLQUFLOEQsT0FBT2hCLGlCQUFpQixZQUFhOUMsS0FBS2lFLGNBQ2pELEdBQUMsQ0FBQWxELElBQUEsUUFBQUMsTUFFRCxXQUNFaEIsS0FBSzhELE9BQU9yQixVQUFVVixPQUFPLGdCQUM3Qi9DLFNBQVNzRixvQkFBb0IsVUFBV3RFLEtBQUsrRCxpQkFDN0MvRCxLQUFLOEQsT0FBT1Esb0JBQW9CLFlBQWF0RSxLQUFLaUUsY0FDcEQsR0FBQyxDQUFBbEQsSUFBQSxvQkFBQUMsTUFFRCxXQUFvQixJQUFBcUIsRUFBQSxLQUNFckMsS0FBSzhELE9BQU83RSxjQUFjLGlCQUVsQzZELGlCQUFpQixTQUFTLFdBQ3BDVCxFQUFLOEIsT0FDUCxHQUNGLE0sb0VBQUNQLENBQUEsQ0FyQ3VCLEcsMjJDQ0FLLElBRVZXLEVBQWMsU0FBQUMsSSxxUkFBQUMsQ0FBQUYsRUFBQUMsR0FBQSxJLFFBQUFFLEcsRUFBQUgsRSw2akJBQ2pDLFNBQUFBLEVBQVlWLEdBQWUsSUFBQWMsRUFBQXRDLEVBSUMsTyw0RkFKRHRDLENBQUEsS0FBQXdFLElBQ3pCbEMsRUFBQXFDLEVBQUFFLEtBQUEsS0FBTWYsSUFDRGdCLFlBQWN4QyxFQUFLeUIsT0FBTzdFLGNBQWMsaUJBQzdDb0QsRUFBS3lDLGlCQUFtQnpDLEVBQUt5QixPQUFPN0UsY0FBYyx5QkFDbEQ4RixHQUFBSixFQUFBSyxFQUFBM0MsR0FBQTRDLEVBQUFWLEVBQUFXLFlBQUEsb0JBQUFQLEdBQUFDLEtBQUFELEdBQTBCdEMsQ0FDNUIsQ0FRQyxPLEVBUkFrQyxHLEVBQUEsRUFBQXhELElBQUEsT0FBQUMsTUFFRCxTQUFLYixFQUFNRSxHQUNUTCxLQUFLNkUsWUFBWXZELElBQU1qQixFQUN2QkwsS0FBSzZFLFlBQVl0RCxJQUFNcEIsRUFDdkJILEtBQUs4RSxpQkFBaUJyRCxZQUFjdEIsRUFFcEM0RSxFQUFBRSxFQUFBVixFQUFBVyxXQUFBLGFBQUFOLEtBQUEsS0FDRixNLG9FQUFDTCxDQUFBLENBZGdDLENBQVNYLEcsZ3ZDQ0ZiLElBRVZ1QixFQUFhLFNBQUFYLEkscVJBQUFDLENBQUFVLEVBQUFYLEdBQUEsSSxRQUFBRSxHLEVBQUFTLEUscXJCQUNoQyxTQUFBQSxFQUFZdEIsRUFBZXVCLEdBQWtCLElBQUEvQyxFQUt5QixPLDRGQUx6QnRDLENBQUEsS0FBQW9GLElBQzNDOUMsRUFBQXFDLEVBQUFFLEtBQUEsS0FBTWYsSUFDRHdCLE1BQVFoRCxFQUFLeUIsT0FBTzdFLGNBQWMsU0FDdkNvRCxFQUFLaUQsZUFBaUJqRCxFQUFLZ0QsTUFBTUUsaUJBQWlCLGdCQUNsRGxELEVBQUttRCxrQkFBb0JKLEVBQ3pCL0MsRUFBS29ELGNBQWdCcEQsRUFBS2dELE1BQU1wRyxjQUFjLHNCQUFzQm9ELENBQ3RFLENBa0NDLE8sRUFsQ0E4QyxHLEVBQUEsRUFBQXBFLElBQUEsa0JBQUFDLE1BRUQsV0FBa0IsSUFBQTJCLEVBQUEsS0FNaEIsT0FMQTNDLEtBQUswRixZQUFjLENBQUMsRUFFcEIxRixLQUFLc0YsZUFBZTdCLFNBQVEsU0FBQWtDLEdBQzFCaEQsRUFBSytDLFlBQVlDLEVBQU14RixNQUFRd0YsRUFBTTNFLEtBQUssSUFFckNoQixLQUFLMEYsV0FDZCxHQUFDLENBQUEzRSxJQUFBLG9CQUFBQyxNQUVELFdBQW9CLElBQUE2QixFQUFBLEtBRWxCN0MsS0FBS3FGLE1BQU12QyxpQkFBaUIsVUFBVSxTQUFDb0IsR0FDckNBLEVBQUkwQixpQkFDSi9DLEVBQUsyQyxrQkFBa0IzQyxFQUFLZ0QsbUJBQzVCaEQsRUFBS3NCLE9BQ1AsSUFFQVksRUFBQUUsRUFBQUUsRUFBQUQsV0FBQSwwQkFBQU4sS0FBQSxLQUNGLEdBQUMsQ0FBQTdELElBQUEsZ0JBQUFDLE1BRUQsV0FDRWhCLEtBQUt5RixjQUFjaEUsWUFBYyxlQUNuQyxHQUFDLENBQUFWLElBQUEsbUJBQUFDLE1BRUQsV0FDRWhCLEtBQUt5RixjQUFjaEUsWUFBYyxXQUNuQyxHQUFDLENBQUFWLElBQUEsUUFBQUMsTUFFRCxXQUNFaEIsS0FBS3FGLE1BQU1TLFFBRVhmLEVBQUFFLEVBQUFFLEVBQUFELFdBQUEsY0FBQU4sS0FBQSxLQUNGLE0sb0VBQUNPLENBQUEsQ0F6QytCLENBQVN2QixHLGd2Q0NGWixJQUVWbUMsRUFBZ0IsU0FBQXZCLEkscVJBQUFDLENBQUFzQixFQUFBdkIsR0FBQSxJLFFBQUFFLEcsRUFBQXFCLEUscXJCQUNuQyxTQUFBQSxFQUFZQyxHQUFjLElBQUEzRCxFQUdLLE8sNEZBSEx0QyxDQUFBLEtBQUFnRyxJQUN4QjFELEVBQUFxQyxFQUFBRSxLQUFBLEtBQU1vQixJQUNEWCxNQUFRaEQsRUFBS3lCLE9BQU83RSxjQUFjLFNBQ3ZDb0QsRUFBSzRELGFBQWUsV0FBTyxFQUFFNUQsQ0FDL0IsQ0FhQyxPLEVBYkEwRCxHLEVBQUEsRUFBQWhGLElBQUEsb0JBQUFDLE1BRUQsV0FBb0IsSUFBQTJCLEVBQUEsS0FDbEIzQyxLQUFLcUYsTUFBTXZDLGlCQUFpQixVQUFVLFNBQUNvQixHQUNyQ0EsRUFBSTBCLGlCQUNKakQsRUFBS3NELGNBQ1AsSUFFQWxCLEVBQUFFLEVBQUFjLEVBQUFiLFdBQUEsMEJBQUFOLEtBQUEsS0FDRixHQUFDLENBQUE3RCxJQUFBLG1CQUFBQyxNQUVELFNBQWlCa0YsR0FDZmxHLEtBQUtpRyxhQUFlQyxDQUN0QixNLG9FQUFDSCxDQUFBLENBbEJrQyxDQUFTbkMsRyx1cUJDRnpCdUMsRUFBUSxXQUMzQixTQUFBQSxFQUFBakQsR0FBc0UsSUFBeERrRCxFQUFnQmxELEVBQWhCa0QsaUJBQWtCQyxFQUFlbkQsRUFBZm1ELGdCQUFpQkMsRUFBa0JwRCxFQUFsQm9ELG9CLDRGQUFrQnZHLENBQUEsS0FBQW9HLEdBQ2pFbkcsS0FBS3VHLGtCQUFvQnZILFNBQVNDLGNBQWNtSCxHQUNoRHBHLEtBQUt3RyxpQkFBbUJ4SCxTQUFTQyxjQUFjb0gsR0FDL0NyRyxLQUFLeUcsb0JBQXNCekgsU0FBU0MsY0FBY3FILEdBQ2xEdEcsS0FBSzBHLE1BQVEsQ0FBQyxDQUNoQixDLFFBZUMsTyxFQWZBUCxHLEVBQUEsRUFBQXBGLElBQUEsY0FBQUMsTUFFRCxXQUNFLE9BQU9oQixLQUFLMEcsS0FDZCxHQUFDLENBQUEzRixJQUFBLGNBQUFDLE1BRUQsU0FBWTJGLEdBQ1YzRyxLQUFLMEcsTUFBUUMsRUFDYjNHLEtBQUt1RyxrQkFBa0I5RSxZQUFja0YsRUFBS3hHLEtBQzFDSCxLQUFLd0csaUJBQWlCL0UsWUFBY2tGLEVBQUtDLEtBQzNDLEdBQUMsQ0FBQTdGLElBQUEsZ0JBQUFDLE1BRUQsU0FBYzJGLEdBQ1ozRyxLQUFLMEcsTUFBUUMsRUFDYjNHLEtBQUt5RyxvQkFBb0JuRixJQUFNcUYsRUFBS3BILE1BQ3RDLE0sb0VBQUM0RyxDQUFBLENBckIwQixHLHNyQkNBUlUsRUFBYSxXQUNoQyxTQUFBQSxFQUFZcEksRUFBc0JxSSxHQUFhLEksTUFBQXpFLEVBQUEsTSw0RkFBQXRDLENBQUEsS0FBQThHLEcsRUFBQSxLLEVBNkI1QixXQUNqQixPQUFPeEUsRUFBSzBFLFdBQVd6RSxNQUFLLFNBQUMwRSxHQUMzQixPQUFRQSxFQUFhQyxTQUFTQyxLQUNoQyxHQUNGLEcsTUFqQytDLHVCLHdGQUM3Q2xILEtBQUttSCxzQkFBd0IxSSxFQUM3QnVCLEtBQUtvSCxhQUFlTixFQUNwQjlHLEtBQUtxSCxlQUFpQnJILEtBQUtvSCxhQUFhbkksY0FBY2UsS0FBS21ILHNCQUFzQnZJLHNCQUNqRm9CLEtBQUsrRyxXQUFhTyxNQUFNQyxLQUFLdkgsS0FBS29ILGFBQWE3QixpQkFBaUJ2RixLQUFLbUgsc0JBQXNCeEksZUFDN0YsQyxRQTJEQyxPLEVBM0RBa0ksRyxFQUFBLEVBQUE5RixJQUFBLGtCQUFBQyxNQUVELFNBQWdCZ0csRUFBY1EsR0FDNUIsSUFBTUMsRUFBZXpILEtBQUtvSCxhQUFhbkksY0FBYyxJQUFEeUksT0FBS1YsRUFBYVcsR0FBRSxXQUN4RVgsRUFBYXZFLFVBQVVDLElBQUkxQyxLQUFLbUgsc0JBQXNCdEksaUJBQ3RENEksRUFBYWhHLFlBQWMrRixFQUMzQkMsRUFBYWhGLFVBQVVDLElBQUkxQyxLQUFLbUgsc0JBQXNCckksaUJBQ3hELEdBQUMsQ0FBQWlDLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0JnRyxHQUNkLElBQU1TLEVBQWV6SCxLQUFLb0gsYUFBYW5JLGNBQWMsSUFBRHlJLE9BQUtWLEVBQWFXLEdBQUUsV0FDeEVYLEVBQWF2RSxVQUFVVixPQUFPL0IsS0FBS21ILHNCQUFzQnRJLGlCQUN6RDRJLEVBQWFoRixVQUFVVixPQUFPL0IsS0FBS21ILHNCQUFzQnJJLGtCQUN6RDJJLEVBQWFoRyxZQUFjLEVBQzdCLEdBQUMsQ0FBQVYsSUFBQSxzQkFBQUMsTUFFRCxTQUFvQmdHLEdBQ2JBLEVBQWFDLFNBQVNDLE1BR3pCbEgsS0FBSzRILGdCQUFnQlosR0FGckJoSCxLQUFLNkgsZ0JBQWdCYixFQUFjQSxFQUFhYyxrQkFJcEQsR0FBQyxDQUFBL0csSUFBQSxvQkFBQUMsTUFRRCxXQUNNaEIsS0FBSytILG1CQUNQL0gsS0FBS3FILGVBQWVXLGFBQWEsWUFBWSxHQUU3Q2hJLEtBQUtxSCxlQUFlWSxnQkFBZ0IsV0FFeEMsR0FBQyxDQUFBbEgsSUFBQSxrQkFBQUMsTUFFRCxXQUFrQixJQUFBMkIsRUFBQSxLQUNoQjNDLEtBQUtrSSxvQkFFTGxJLEtBQUsrRyxXQUFXdEQsU0FBUSxTQUFDdUQsR0FDdkJyRSxFQUFLaUYsZ0JBQWdCWixFQUN2QixHQUNGLEdBQUMsQ0FBQWpHLElBQUEsbUJBQUFDLE1BRUQsV0FDRWhCLEtBQUtpQyxvQkFDUCxHQUFDLENBQUFsQixJQUFBLHFCQUFBQyxNQUVELFdBQXFCLElBQUE2QixFQUFBLEtBQ25CN0MsS0FBS2tJLG9CQUVMbEksS0FBSytHLFdBQVd0RCxTQUFRLFNBQUN1RCxHQUN2QkEsRUFBYWxFLGlCQUFpQixTQUFTLFdBQ3JDRCxFQUFLc0Ysb0JBQW9CbkIsR0FDekJuRSxFQUFLcUYsbUJBQ1AsR0FDRixHQUNGLE0sb0VBQUNyQixDQUFBLENBakUrQixHLHVxQkNBYnVCLEVBQUcsV0FDdEIsU0FBQUEsRUFBWUMsSSw0RkFBZXRJLENBQUEsS0FBQXFJLEdBQ3pCcEksS0FBS3NJLEtBQU9ELEVBQWNFLElBQzFCdkksS0FBS3dJLFNBQVdILEVBQWNJLE9BQ2hDLEMsUUEwRUMsTyxFQTFFQUwsRSxFQUFBLEVBQUFySCxJQUFBLGVBQUFDLE1BRUQsU0FBYTBILEdBQ1gsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBTyxXQUFEcEIsT0FBWWdCLEVBQUlLLFFBQ3ZDLEdBQUMsQ0FBQWhJLElBQUEsY0FBQUMsTUFFRCxXQUNFLE9BQU9nSSxNQUFNLEdBQUR0QixPQUFJMUgsS0FBS3NJLEtBQUksYUFBYSxDQUFFRyxRQUFTekksS0FBS3dJLFdBQ25EUyxLQUFLakosS0FBS2tKLGFBQ2YsR0FBQyxDQUFBbkksSUFBQSxjQUFBQyxNQUVELFdBQ0UsT0FBT2dJLE1BQU0sR0FBRHRCLE9BQUkxSCxLQUFLc0ksS0FBSSxVQUFVLENBQUVHLFFBQVN6SSxLQUFLd0ksV0FDaERTLEtBQUtqSixLQUFLa0osYUFDZixHQUFDLENBQUFuSSxJQUFBLGlCQUFBQyxNQUVELFNBQWUyRixHQUNiLE9BQU9xQyxNQUFNLEdBQUR0QixPQUFJMUgsS0FBS3NJLEtBQUksYUFDdkIsQ0FDRWEsT0FBUSxRQUNSVixRQUFTekksS0FBS3dJLFNBQ2RZLEtBQU1DLEtBQUtDLFVBQVUsQ0FBRW5KLEtBQU13RyxFQUFLeEcsS0FBTXlHLE1BQU9ELEVBQUtDLFVBRXJEcUMsS0FBS2pKLEtBQUtrSixhQUNmLEdBQUMsQ0FBQW5JLElBQUEsYUFBQUMsTUFFRCxTQUFXcEIsR0FDVCxPQUFPb0osTUFBTSxHQUFEdEIsT0FBSTFILEtBQUtzSSxLQUFJLFVBQ3ZCLENBQ0VhLE9BQVEsT0FDUlYsUUFBU3pJLEtBQUt3SSxTQUNkWSxLQUFNQyxLQUFLQyxVQUFVLENBQUVuSixLQUFNUCxFQUFTTyxLQUFNRSxLQUFNVCxFQUFTUyxTQUU1RDRJLEtBQUtqSixLQUFLa0osYUFDZixHQUFDLENBQUFuSSxJQUFBLGFBQUFDLE1BRUQsU0FBVzJHLEdBQ1QsT0FBT3FCLE1BQU0sR0FBRHRCLE9BQUkxSCxLQUFLc0ksS0FBSSxXQUFBWixPQUFVQyxHQUNqQyxDQUNFd0IsT0FBUSxTQUNSVixRQUFTekksS0FBS3dJLFdBRWZTLEtBQUtqSixLQUFLa0osYUFDZixHQUFDLENBQUFuSSxJQUFBLFVBQUFDLE1BRUQsU0FBUTJHLEdBQ04sT0FBT3FCLE1BQU0sR0FBRHRCLE9BQUkxSCxLQUFLc0ksS0FBSSxXQUFBWixPQUFVQyxFQUFFLFVBQ25DLENBQ0V3QixPQUFRLE1BQ1JWLFFBQVN6SSxLQUFLd0ksV0FFZlMsS0FBS2pKLEtBQUtrSixhQUNmLEdBQUMsQ0FBQW5JLElBQUEsYUFBQUMsTUFFRCxTQUFXMkcsR0FDVCxPQUFPcUIsTUFBTSxHQUFEdEIsT0FBSTFILEtBQUtzSSxLQUFJLFdBQUFaLE9BQVVDLEVBQUUsVUFDbkMsQ0FDRXdCLE9BQVEsU0FDUlYsUUFBU3pJLEtBQUt3SSxXQUVmUyxLQUFLakosS0FBS2tKLGFBQ2YsR0FBQyxDQUFBbkksSUFBQSxtQkFBQUMsTUFFRCxTQUFBa0MsR0FBNkIsSUFBVjNELEVBQU0yRCxFQUFOM0QsT0FDakIsT0FBT3lKLE1BQU0sR0FBRHRCLE9BQUkxSCxLQUFLc0ksS0FBSSxvQkFDdkIsQ0FDRUcsUUFBU3pJLEtBQUt3SSxTQUNkVyxPQUFRLFFBQ1JDLEtBQU1DLEtBQUtDLFVBQVUsQ0FBRS9KLE9BQUFBLE1BRXhCMEosS0FBS2pKLEtBQUtrSixhQUNmLEksdUVBQUNkLENBQUEsQ0E5RXFCLEcsMEdDd0J4QixJQUFNbUIsRUFBMkIsSUFBSTFDLEVBQWVwSSxFQUFzQlUsR0FDMUVvSyxFQUF5QkMsbUJBQ3pCLElBQU1DLEVBQXVCLElBQUk1QyxFQUFlcEksRUFBc0JpQixHQUN0RStKLEVBQXFCRCxtQkFDckIsSUFBTUUsRUFBeUIsSUFBSTdDLEVBQWVwSSxFQUFzQmEsR0FDeEVvSyxFQUF1QkYsbUJBRXZCLElBQU1HLEVBQWMsSUFBSXhELEVWdkJKLENBQ2xCQyxpQkFBa0IsaUJBQ2xCQyxnQkFBaUIsa0JBQ2pCQyxtQkFBb0Isb0JVcUJoQnNELEdBQW1CLElBQUl6RSxFQUFjLG9CQTZFM0MsU0FBZ0MwRSxHQUFrQixJQUFmMUosRUFBSTBKLEVBQUoxSixLQUFNeUcsRUFBS2lELEVBQUxqRCxNQUN2Q2dELEdBQWlCRSxnQkFDakJDLEdBQUlDLGVBQWUsQ0FBRTdKLEtBQU1BLEVBQU15RyxNQUFPQSxJQUNyQ3FDLE1BQUssU0FBQ3RDLEdBQ0xnRCxFQUFZTSxZQUFZdEQsRUFDMUIsSUFDQ3VELE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxRQUFTRixFQUN2QixJQUNDRyxTQUFRLGtCQUFNVixHQUFpQlcsa0JBQWtCLEdBQ3RELElBdEZNQyxHQUFpQixJQUFJakcsRUFBZSxxQkFDcENrRyxHQUFlLElBQUl0RixFQUFjLG9CQW1HdkMsU0FBNEJ3QixHQUMxQjhELEdBQWFYLGdCQUNiQyxHQUFJVyxXQUFXLENBQUV2SyxLQUFNd0csRUFBS3hHLEtBQU1FLEtBQU1zRyxFQUFLdEcsT0FDMUM0SSxNQUFLLFNBQUNQLEdBQ0xpQyxHQUFZQyxRQUFRQyxHQUFXbkMsR0FDakMsSUFDQ3dCLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxRQUFTRixFQUN2QixJQUNDRyxTQUFRLGtCQUFNRyxHQUFhRixrQkFBa0IsR0FDbEQsSUE1R01PLEdBQWlCLElBQUkzRixFQUFjLHNCQXNGekMsU0FBK0I0RixHQUFhLElBQVZ4TCxFQUFNd0wsRUFBTnhMLE9BQ2hDdUwsR0FBZWhCLGdCQUNmQyxHQUFJaUIsaUJBQWlCLENBQUV6TCxPQUFRQSxJQUM1QjBKLE1BQUssU0FBQ3RDLEdBQ0xnRCxFQUFZc0IsY0FBY3RFLEVBQzVCLElBQ0N1RCxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUksUUFBU0YsRUFDdkIsSUFDQ0csU0FBUSxrQkFBTVEsR0FBZVAsa0JBQWtCLEdBQ3BELElBL0ZNVyxHQUFrQixJQUFJbkYsRUFBaUIsdUJBQ3ZDZ0UsR0FBTSxJQUFJM0IsRVZYTSxDQUNwQkcsSUFBSyw4Q0FDTEUsUUFBUyxDQUNQLGVBQWdCLG1CQUNoQixjQUFpQiwwQ1VtQnJCLFNBQVNvQyxHQUFXakwsR0FDbEJBLEVBQVNzQyxZQUFjeUgsRUFBWXdCLGNBQ25DLElBQU1DLEVBQU8sSUFBSXpMLEVBQUtDLEVBQVUsUUFBUyxDQUN2Q2MsUUFBUzJLLEdBRVR6SyxPQUFRLFNBQUMwSyxFQUFpQkMsR0FDcEJILEVBQUs1SSxTQUNQdUgsR0FDR3lCLFdBQVdGLEVBQWdCbkosS0FDM0I4RyxNQUFLLFNBQUN3QyxHQUFXLE9BQUtGLEVBQWFFLEVBQVlsTCxNQUFNLElBQ3JEMkosT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJLFNBQVVGLEVBQ3hCLElBRUZKLEdBQ0cyQixRQUFRSixFQUFnQm5KLEtBQ3hCOEcsTUFBSyxTQUFDd0MsR0FBVyxPQUFLRixFQUFhRSxFQUFZbEwsTUFBTSxJQUNyRDJKLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxTQUFVRixFQUN4QixHQUVOLEVBRUFySixTQUFVLFNBQUN3SyxFQUFpQkssR0FDMUJULEdBQWdCVSxPQUNoQlYsR0FBZ0JXLGtCQUFpQixXQUMvQjlCLEdBQ0MrQixXQUFXUixFQUFnQm5KLEtBRTNCOEcsTUFBSyxXQUNKaUMsR0FBZ0IvRyxRQUNoQndILEdBQ0YsSUFDQ3pCLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSSxRQUFTRixFQUN2QixHQUNGLEdBQ0YsSUFJRixPQURvQmlCLEVBQUtXLGNBRTNCLENBcERBbEQsUUFBUW1ELElBQUksQ0FBQ2pDLEdBQUlvQixjQUFlcEIsR0FBSWtDLGdCQUNqQ2hELE1BQUssU0FBQS9GLEdBQW1CLEksSUFBQWdKLEcsRUFBQSxFLDRDQUFBaEosSSxvMkJBQWpCeUQsRUFBSXVGLEVBQUEsR0FBRTNJLEVBQUsySSxFQUFBLEdBQ2pCdkMsRUFBWU0sWUFBWXRELEdBQ3hCZ0QsRUFBWXNCLGNBQWN0RSxHQUMxQmdFLEdBQVl3QixZQUFZNUksRUFDMUIsSUFDQzJHLE9BQU8sU0FBQ0MsR0FDUEMsUUFBUUMsSUFBS0YsRUFDZixJQThDRixJQUFNUSxHQUFjLElBQUkxSCxFQUFRLENBQzlCRyxTQUFVLFNBQUN4RCxHQUNUK0ssR0FBWUMsUUFBUUMsR0FBV2pMLEdBQ2pDLEdBQ0MsZ0JBRUgsU0FBU3lMLEdBQWdCbEwsRUFBTUUsR0FDN0JtSyxHQUFlb0IsS0FBS3pMLEVBQU1FLEVBQzVCLENBNENBNkssR0FBZ0JrQixvQkFDaEJ4QyxHQUFpQndDLG9CQUNqQnRCLEdBQWVzQixvQkFDZjNCLEdBQWEyQixvQkFFYmxOLEVBQXVCNEQsaUJBQWlCLFNBQVMsV0EvQ2pELElBQ1F1SixFQStDTjlDLEVBQXlCckIsb0JBQ3pCMEIsR0FBaUJnQyxPQWhEWFMsRUFBVzFDLEVBQVl3QixjQUM3Qi9MLEVBQVU0QixNQUFRcUwsRUFBU2xNLEtBQzNCZCxFQUFTMkIsTUFBUXFMLEVBQVN6RixLQWdENUIsSUFFQW5ILEVBQXFCcUQsaUJBQWlCLFNBQVMsV0FDN0MySCxHQUFhbUIsT0FDYm5DLEVBQXFCNkMsaUJBQ3ZCLElBRUEvTSxFQUFPdUQsaUJBQWlCLFNBQVMsV0FDL0JnSSxHQUFlYyxPQUNmbEMsRUFBdUI0QyxpQkFDekIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnRzdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB2YWxpZGF0aW9uUGFyYW1ldGVycyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc2F2ZS1idXR0b24nLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgaW5wdXRFcnJvckFjdGl2ZTogJ2Zvcm1fX2lucHV0LWVycm9yX2FjdGl2ZSdcbn07XG5cbmNvbnN0IHByb2ZpbGVVc2VyID0ge1xuICB1c2VyTmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxuICB1c2VySm9iU2VsZWN0b3I6ICcucHJvZmlsZV9fYWJvdXQnLFxuICB1c2VyQXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9faW1hZ2UnXG59XG5cbmNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2VkaXQnKTtcbmNvbnN0IGJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcbmNvbnN0IGZvcm1FbGVtZW50UHJvZmlsZSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuY29uc3QgbmFtZUlucHV0ID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX3VzZXItbmFtZScpO1xuY29uc3Qgam9iSW5wdXQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfYWJvdXQnKTtcbmNvbnN0IHBvcHVwQWRkQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfYXZhdGFyJyk7XG5jb25zdCBmb3JtQWRkQXZhdGFyID0gcG9wdXBBZGRBdmF0YXIucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbmNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcbmNvbnN0IHBvcHVwQWRkTmV3Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2NhcmQnKTtcbmNvbnN0IGJ1dHRvbk9wZW5BZGROZXdDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcbmNvbnN0IGZvcm1FbGVtZW50Q2FyZCA9IHBvcHVwQWRkTmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuXG5jb25zdCBhcGlQYXJhbWV0ZXJzID0ge1xuICB1cmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgXCJhdXRob3JpemF0aW9uXCI6IFwiYWJlYjY5ODctMTEzMS00YThjLThlMTMtNGVjZTc0NmM4ZTdiXCIsXG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIHZhbGlkYXRpb25QYXJhbWV0ZXJzLFxuICBwcm9maWxlVXNlcixcbiAgcG9wdXBQcm9maWxlLFxuICBidXR0b25PcGVuUG9wdXBQcm9maWxlLFxuICBmb3JtRWxlbWVudFByb2ZpbGUsXG4gIG5hbWVJbnB1dCxcbiAgam9iSW5wdXQsXG4gIHBvcHVwQWRkTmV3Q2FyZCxcbiAgZm9ybUFkZEF2YXRhcixcbiAgYXZhdGFyLFxuICBidXR0b25PcGVuQWRkTmV3Q2FyZCxcbiAgZm9ybUVsZW1lbnRDYXJkLFxuICBhcGlQYXJhbWV0ZXJzXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGNhcmREYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZXIpIHtcbiAgICB0aGlzLl9jYXJkRGF0YSA9IGNhcmREYXRhO1xuICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gY2FyZERhdGEubGlrZXM7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZXIub25DbGljaztcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZXIub25MaWtlO1xuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVyLm9uRGVsZXRlO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgLmNvbnRlbnRcbiAgICAucXVlcnlTZWxlY3RvcignLmNhcmQnKVxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICBjb25zdCBjYXJkUGhvdG8gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19waG90bycpO1xuICAgIGNhcmRQaG90by5zcmMgPSB0aGlzLl9saW5rO1xuICAgIGNhcmRQaG90by5hbHQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fY2FyZFBob3RvID0gY2FyZFBob3RvO1xuXG4gICAgY29uc3QgY2FyZE5hbWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190aXRsZScpO1xuICAgIGNhcmROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX2J1dHRvbkxpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19idXR0b24tbGlrZScpO1xuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1jb3VudGVyJyk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5fYnV0dG9uVHJhc2ggPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19yZWN5Y2xlLWJpbicpO1xuXG4gICAgaWYoIXRoaXMuX2lzT3duZXJDYXJkKCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvblRyYXNoLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMudG9vZ2xlQnV0dG9uTGlrZSgpXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX2lzT3duZXJDYXJkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJkRGF0YS5jdXJyZW50VXNlci5faWQgPT09IHRoaXMuX2NhcmREYXRhLm93bmVyLl9pZFxuICB9XG5cbiAgaXNMaWtlKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJkRGF0YS5saWtlcy5zb21lKChpdGVtKSA9PiB7XG4gICAgICByZXR1cm4gaXRlbS5faWQgPT09IHRoaXMuX2NhcmREYXRhLmN1cnJlbnRVc2VyLl9pZFxuICAgIH0pXG4gIH1cblxuICB0b29nbGVCdXR0b25MaWtlKCkge1xuICAgIGlmICh0aGlzLmlzTGlrZSgpKSB7XG4gICAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2J1dHRvbi1saWtlX2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRfX2J1dHRvbi1saWtlX2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVMaWtlKCkge1xuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKFxuICAgICAgdGhpcy5fY2FyZERhdGEsXG4gICAgICAodXBkYXRlZExpa2UpID0+IHtcbiAgICAgICAgdGhpcy5fY2FyZERhdGEubGlrZXMgPSB1cGRhdGVkTGlrZTtcbiAgICAgICAgdGhpcy50b29nbGVCdXR0b25MaWtlKCk7XG4gICAgICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fY2FyZERhdGEubGlrZXMubGVuZ3RoO1xuICAgICAgfSk7XG4gIH1cblxuICBfZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuX2NhcmRQaG90byA9IG51bGw7XG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IG51bGw7XG4gICAgdGhpcy5fYnV0dG9uVHJhc2ggPSBudWxsO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRQaG90by5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2J1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9idXR0b25UcmFzaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcy5fY2FyZERhdGEsICgpID0+IHtcbiAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZCgpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5yZXZlcnNlKCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oY2FyZEVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX292ZXJsYXlDbG9zZSA9IHRoaXMuX292ZXJsYXlDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgX292ZXJsYXlDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX292ZXJsYXlDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX292ZXJsYXlDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKTtcblxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pXG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKVxuICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtY2FwdGlvbicpO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICB0aGlzLl9mb3JtSW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19zYXZlLWJ1dHRvbicpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcblxuICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWV9KTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KVxuXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldFNhdmluZ01vZGUoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xuICB9XG5cbiAgcmVtb3ZlU2F2aW5nTW9kZSgpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJ1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuXG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGV0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGV0b3IpO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgIHRoaXMuX2NvbmZpcm1TdGVwID0gKCkgPT4ge307XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fY29uZmlybVN0ZXAoKTtcbiAgICB9KTtcblxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBzZXRDb25maXJtQWN0aW9uKGFjdGlvbikge1xuICAgIHRoaXMuX2NvbmZpcm1TdGVwID0gYWN0aW9uO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWVTZWxlY3RvciwgdXNlckpvYlNlbGVjdG9yLCB1c2VyQXZhdGFyU2VsZWN0b3J9KSB7XG4gICAgdGhpcy5fdXNlck5hbWVTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckpvYlNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySm9iU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJBdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhclNlbGVjdG9yKTtcbiAgICB0aGlzLl9kYXRhID0ge307XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl91c2VyTmFtZVNlbGVjdG9yLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3VzZXJKb2JTZWxlY3Rvci50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl91c2VyQXZhdGFyU2VsZWN0b3Iuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvblBhcmFtZXRlcnMsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMgPSB2YWxpZGF0aW9uUGFyYW1ldGVycztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuaW5wdXRTZWxlY3RvcikpO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzLmlucHV0RXJyb3JBY3RpdmUpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzLmlucHV0RXJyb3JBY3RpdmUpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG5cbiAgY2xlYXJWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKGFwaVBhcmFtZXRlcnMpIHtcbiAgICB0aGlzLl91cmwgPSBhcGlQYXJhbWV0ZXJzLnVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gYXBpUGFyYW1ldGVycy5oZWFkZXJzO1xuICB9XG5cbiAgX2hhbmRsZVJlcGx5KHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgZ2V0QWxsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgdXBkYXRlVXNlckluZm8oZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IGRhdGEubmFtZSwgYWJvdXQ6IGRhdGEuYWJvdXQgfSlcbiAgICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxuXG4gIGFkZE5ld0NhcmQoY2FyZERhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IGNhcmREYXRhLm5hbWUsIGxpbms6IGNhcmREYXRhLmxpbmsgfSlcbiAgICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxuXG4gIHNldExpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxuXG4gIGRlbGV0ZUxpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxuXG4gIHVwZGF0ZVVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXIgfSlcbiAgICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxufSIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuaW1wb3J0IHtcbiAgdmFsaWRhdGlvblBhcmFtZXRlcnMsXG4gIHByb2ZpbGVVc2VyLFxuICBidXR0b25PcGVuUG9wdXBQcm9maWxlLFxuICBmb3JtRWxlbWVudFByb2ZpbGUsXG4gIG5hbWVJbnB1dCxcbiAgam9iSW5wdXQsXG4gIGZvcm1BZGRBdmF0YXIsXG4gIGF2YXRhcixcbiAgYnV0dG9uT3BlbkFkZE5ld0NhcmQsXG4gIGZvcm1FbGVtZW50Q2FyZCxcbiAgYXBpUGFyYW1ldGVyc1xufSBmcm9tICcuLi91dGlscy9jb250c3RhbnRzLmpzJztcblxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcblxuY29uc3QgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IgKHZhbGlkYXRpb25QYXJhbWV0ZXJzLCBmb3JtRWxlbWVudFByb2ZpbGUpO1xuZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IgKHZhbGlkYXRpb25QYXJhbWV0ZXJzLCBmb3JtRWxlbWVudENhcmQpO1xuYWRkQ2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgYWRkQXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yICh2YWxpZGF0aW9uUGFyYW1ldGVycywgZm9ybUFkZEF2YXRhcik7XG5hZGRBdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgdXNlclByb2ZpbGUgPSBuZXcgVXNlckluZm8ocHJvZmlsZVVzZXIpO1xuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9lZGl0JywgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xuY29uc3QgcG9wdXBPcGVuSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF90eXBlX2ltYWdlJyk7XG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfY2FyZCcsIGFkZEltYWdlRm9ybVN1Ym1pdCk7XG5jb25zdCBwb3B1cEFkZEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9hdmF0YXInLCBjaGFuZ2VBdmF0YXJGb3JtU3VibWl0KTtcbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKCcucG9wdXBfdHlwZV9jb25maXJtJyk7XG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaVBhcmFtZXRlcnMpO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRBbGxDYXJkcygpXSlcbiAgLnRoZW4oKFtkYXRhLCBpdGVtc10pID0+IHtcbiAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICB1c2VyUHJvZmlsZS5zZXRVc2VyQXZhdGFyKGRhdGEpO1xuICAgIGNhcmRzR2FsZWd5LnJlbmRlckl0ZW1zKGl0ZW1zKTtcbiAgfSlcbiAgLmNhdGNoICgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2cgKGVycik7XG4gIH0pXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY2FyZERhdGEuY3VycmVudFVzZXIgPSB1c2VyUHJvZmlsZS5nZXRVc2VySW5mbygpO1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsICcjY2FyZCcsIHtcbiAgICBvbkNsaWNrOiBoYW5kbGVDYXJkQ2xpY2ssXG5cbiAgICBvbkxpa2U6IChjdXJyZW50Q2FyZERhdGEsIGxpa2VDYWxsYmFjaykgPT4ge1xuICAgICAgaWYgKGNhcmQuaXNMaWtlKCkpIHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmRlbGV0ZUxpa2UoY3VycmVudENhcmREYXRhLl9pZClcbiAgICAgICAgICAudGhlbigodXBkYXRlZENhcmQpID0+IGxpa2VDYWxsYmFjayh1cGRhdGVkQ2FyZC5saWtlcykpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAnLCBlcnIpO1xuICAgICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGlcbiAgICAgICAgICAuc2V0TGlrZShjdXJyZW50Q2FyZERhdGEuX2lkKVxuICAgICAgICAgIC50aGVuKCh1cGRhdGVkQ2FyZCkgPT4gbGlrZUNhbGxiYWNrKHVwZGF0ZWRDYXJkLmxpa2VzKSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCcsIGVycik7XG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgb25EZWxldGU6IChjdXJyZW50Q2FyZERhdGEsIGRlbGV0ZUNhbGxiYWNrKSA9PiB7XG4gICAgICBwb3B1cERlbGV0ZUNhcmQub3BlbigpO1xuICAgICAgcG9wdXBEZWxldGVDYXJkLnNldENvbmZpcm1BY3Rpb24oKCkgPT4ge1xuICAgICAgICBhcGlcbiAgICAgICAgLmRlbGV0ZUNhcmQoY3VycmVudENhcmREYXRhLl9pZClcblxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKCk7XG4gICAgICAgICAgZGVsZXRlQ2FsbGJhY2soKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5jb25zdCBjYXJkc0dhbGVneSA9IG5ldyBTZWN0aW9uKHtcbiAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xuICAgIGNhcmRzR2FsZWd5LmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkRGF0YSkpO1xuICB9LFxufSwgJy5waG90b19fbGlzdCcpO1xuXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xuICBwb3B1cE9wZW5JbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xufTtcblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZSgpIHtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VyUHJvZmlsZS5nZXRVc2VySW5mbygpO1xuICBuYW1lSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xuICBqb2JJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmFib3V0O1xufTtcblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoeyBuYW1lLCBhYm91dCB9KSB7XG4gIHBvcHVwRWRpdFByb2ZpbGUuc2V0U2F2aW5nTW9kZSgpO1xuICBhcGkudXBkYXRlVXNlckluZm8oeyBuYW1lOiBuYW1lLCBhYm91dDogYWJvdXQgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8oZGF0YSlcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBFZGl0UHJvZmlsZS5yZW1vdmVTYXZpbmdNb2RlKCkpXG59O1xuXG5mdW5jdGlvbiBjaGFuZ2VBdmF0YXJGb3JtU3VibWl0KHsgYXZhdGFyIH0pIHtcbiAgcG9wdXBBZGRBdmF0YXIuc2V0U2F2aW5nTW9kZSgpO1xuICBhcGkudXBkYXRlVXNlckF2YXRhcih7IGF2YXRhcjogYXZhdGFyIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJQcm9maWxlLnNldFVzZXJBdmF0YXIoZGF0YSlcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBBZGRBdmF0YXIucmVtb3ZlU2F2aW5nTW9kZSgpKVxufVxuXG5mdW5jdGlvbiBhZGRJbWFnZUZvcm1TdWJtaXQoZGF0YSkge1xuICBwb3B1cEFkZENhcmQuc2V0U2F2aW5nTW9kZSgpO1xuICBhcGkuYWRkTmV3Q2FyZCh7IG5hbWU6IGRhdGEubmFtZSwgbGluazogZGF0YS5saW5rIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY2FyZHNHYWxlZ3kuYWRkSXRlbShjcmVhdGVDYXJkKHJlcykpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEFkZENhcmQucmVtb3ZlU2F2aW5nTW9kZSgpKVxufTtcblxucG9wdXBEZWxldGVDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEFkZEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcbiAgaGFuZGxlUHJvZmlsZSgpO1xufSk7XG5cbmJ1dHRvbk9wZW5BZGROZXdDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cEFkZENhcmQub3BlbigpO1xuICBhZGRDYXJkRm9ybVZhbGlkYXRvci5jbGVhclZhbGlkYXRpb24oKTtcbn0pXG5cbmF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGRBdmF0YXIub3BlbigpO1xuICBhZGRBdmF0YXJGb3JtVmFsaWRhdG9yLmNsZWFyVmFsaWRhdGlvbigpO1xufSlcbiJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uUGFyYW1ldGVycyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JBY3RpdmUiLCJwb3B1cFByb2ZpbGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJidXR0b25PcGVuUG9wdXBQcm9maWxlIiwiZm9ybUVsZW1lbnRQcm9maWxlIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJmb3JtQWRkQXZhdGFyIiwiYXZhdGFyIiwicG9wdXBBZGROZXdDYXJkIiwiYnV0dG9uT3BlbkFkZE5ld0NhcmQiLCJmb3JtRWxlbWVudENhcmQiLCJDYXJkIiwiY2FyZERhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9jYXJkRGF0YSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJvbkNsaWNrIiwiX2hhbmRsZUNhcmRMaWtlIiwib25MaWtlIiwiX2hhbmRsZUNhcmREZWxldGUiLCJvbkRlbGV0ZSIsImtleSIsInZhbHVlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiY2FyZFBob3RvIiwic3JjIiwiYWx0IiwiX2NhcmRQaG90byIsInRleHRDb250ZW50IiwiX2J1dHRvbkxpa2UiLCJfbGlrZUNvdW50ZXIiLCJsZW5ndGgiLCJfYnV0dG9uVHJhc2giLCJfaXNPd25lckNhcmQiLCJyZW1vdmUiLCJ0b29nbGVCdXR0b25MaWtlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiY3VycmVudFVzZXIiLCJfaWQiLCJvd25lciIsIl90aGlzIiwic29tZSIsIml0ZW0iLCJpc0xpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJfdGhpczIiLCJ1cGRhdGVkTGlrZSIsIl90aGlzMyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZSIsIl9kZWxldGVDYXJkIiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwicmV2ZXJzZSIsImZvckVhY2giLCJjYXJkRWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX292ZXJsYXlDbG9zZSIsImV2dCIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsIl90aGlzU3VwZXIiLCJjYWxsIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBJbWFnZVRpdGxlIiwiX2dldCIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2Zvcm1JbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfc3VibWl0QnV0dG9uIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhDb25maXJtIiwicG9wdXBTZWxldG9yIiwiX2NvbmZpcm1TdGVwIiwiYWN0aW9uIiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lU2VsZWN0b3IiLCJfdXNlckpvYlNlbGVjdG9yIiwiX3VzZXJBdmF0YXJTZWxlY3RvciIsIl9kYXRhIiwiZGF0YSIsImFib3V0IiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfdmFsaWRhdGlvblBhcmFtZXRlcnMiLCJfZm9ybUVsZW1lbnQiLCJfYnV0dG9uRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImNvbmNhdCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiQXBpIiwiYXBpUGFyYW1ldGVycyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2hhbmRsZVJlcGx5IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiLCJhZGRBdmF0YXJGb3JtVmFsaWRhdG9yIiwidXNlclByb2ZpbGUiLCJwb3B1cEVkaXRQcm9maWxlIiwiX3JlZjMiLCJzZXRTYXZpbmdNb2RlIiwiYXBpIiwidXBkYXRlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJyZW1vdmVTYXZpbmdNb2RlIiwicG9wdXBPcGVuSW1hZ2UiLCJwb3B1cEFkZENhcmQiLCJhZGROZXdDYXJkIiwiY2FyZHNHYWxlZ3kiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsInBvcHVwQWRkQXZhdGFyIiwiX3JlZjQiLCJ1cGRhdGVVc2VyQXZhdGFyIiwic2V0VXNlckF2YXRhciIsInBvcHVwRGVsZXRlQ2FyZCIsImdldFVzZXJJbmZvIiwiY2FyZCIsImhhbmRsZUNhcmRDbGljayIsImN1cnJlbnRDYXJkRGF0YSIsImxpa2VDYWxsYmFjayIsImRlbGV0ZUxpa2UiLCJ1cGRhdGVkQ2FyZCIsInNldExpa2UiLCJkZWxldGVDYWxsYmFjayIsIm9wZW4iLCJzZXRDb25maXJtQWN0aW9uIiwiZGVsZXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImFsbCIsImdldEFsbENhcmRzIiwiX3JlZjIiLCJyZW5kZXJJdGVtcyIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlckRhdGEiLCJjbGVhclZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9