(()=>{"use strict";var t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__save-button",inputErrorClass:"form__input_type_error",inputErrorActive:"form__input-error_active"},e=document.querySelector(".popup_type_edit"),r=document.querySelector(".profile__edit-button"),n=e.querySelector(".form"),o=e.querySelector(".form__input_type_user-name"),i=e.querySelector(".form__input_type_about"),u=document.querySelector(".popup_type_avatar").querySelector(".form"),a=document.querySelector(".profile__avatar"),c=document.querySelector(".popup_type_card"),l=document.querySelector(".profile__add-button"),s=c.querySelector(".form");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}var y=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cardData=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._cardSelector=r,this._handleCardClick=n.onClick,this._handleCardLike=n.onLike,this._handleCardDelete=n.onDelete}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){var t=this;this._element=this._getTemplate();var e=this._element.querySelector(".card__photo");e.src=this._link,e.alt=this._name,this._cardPhoto=e;var r=this._element.querySelector(".card__title");return r.textContent=this._name,this._cardPhoto.onerror=function(){t._cardPhoto.src="https://raw.githubusercontent.com/genevy/mesto/main/src/images/placeholder.svg",t._cardPhoto.alt="".concat(t._name," - картинка не загружена"),r.textContent="Не загружена"},this._buttonLike=this._element.querySelector(".card__button-like"),this._likeCounter=this._element.querySelector(".card__like-counter"),this._likeCounter.textContent=this._likes.length,this._buttonTrash=this._element.querySelector(".card__recycle-bin"),this._isOwnerCard()||this._buttonTrash.remove(),this.toogleButtonLike(),this._setEventListeners(),this._element}},{key:"_isOwnerCard",value:function(){return this._cardData.currentUser._id===this._cardData.owner._id}},{key:"isLike",value:function(){var t=this;return this._cardData.likes.some((function(e){return e._id===t._cardData.currentUser._id}))}},{key:"toogleButtonLike",value:function(){this.isLike()?this._buttonLike.classList.add("card__button-like_active"):this._buttonLike.classList.remove("card__button-like_active")}},{key:"_handleLike",value:function(){var t=this;this._handleCardLike(this._cardData,(function(e){t._cardData.likes=e,t.toogleButtonLike(),t._likeCounter.textContent=t._cardData.likes.length}))}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null,this._cardPhoto=null,this._buttonLike=null,this._buttonTrash=null}},{key:"_setEventListeners",value:function(){var t=this;this._cardPhoto.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)})),this._buttonLike.addEventListener("click",(function(){t._handleLike()})),this._buttonTrash.addEventListener("click",(function(){t._handleCardDelete(t._cardData,(function(){t._deleteCard()}))}))}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}var d=function(){function t(e,r){var n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=n,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(t){var e=this;t.reverse().forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}var b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._overlayClose=this._overlayClose.bind(this)}var e,r;return e=t,(r=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_overlayClose",value:function(t){t.target==t.currentTarget&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._overlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._overlayClose)}},{key:"setEventListeners",value:function(){var t=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){t.close()}))}}])&&_(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===S(o)?o:String(o)),n)}var o}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(this,arguments)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(o){var r=O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return k(t)}(this,t)});function u(t){var e,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._popupImage=r._popup.querySelector(".popup__image"),r._popupImageTitle=r._popup.querySelector(".popup__image-caption"),E((e=k(r),O(u.prototype)),"setEventListeners",e).call(e),r}return e=u,(r=[{key:"open",value:function(t,e){var r=this;this._popupImage.src=e,this._popupImage.alt=t,this._popupImageTitle.textContent=t,this._popupImage.onerror=function(){r._popupImage.src="https://raw.githubusercontent.com/genevy/mesto/main/src/images/placeholder.svg",r._popupImage.alt="".concat(t," - картинка не загружена"),r._popupImageTitle.textContent="".concat(t," - картинка не загружена")},E(O(u.prototype),"open",this).call(this)}}])&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(b);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===j(o)?o:String(o)),n)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},L.apply(this,arguments)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=I(n);if(o){var r=I(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._form=r._popup.querySelector(".form"),r._formInputList=r._form.querySelectorAll(".form__input"),r._handleFormSubmit=e,r._submitButton=r._form.querySelector(".form__save-button"),r}return e=u,(r=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._formInputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;L(I(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault();var r=t._submitButton.textContent;t._submitButton.textContent="Сохранение...",t._handleFormSubmit(t._getInputValues()).then((function(){return t.close()})).catch((function(t){return console.log("Error: ".concat(t))})).finally((function(){t._submitButton.textContent=r}))}))}},{key:"close",value:function(){this._form.reset(),L(I(u.prototype),"close",this).call(this)}}])&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(b);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},D.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(n);if(o){var r=B(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".form"),e._confirmStep=function(){},e}return e=u,(r=[{key:"setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t._confirmStep()})),D(B(u.prototype),"setEventListeners",this).call(this)}},{key:"setConfirmAction",value:function(t){this._confirmStep=t}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(b);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===V(o)?o:String(o)),n)}var o}var J=function(){function t(e){var r=e.userNameSelector,n=e.userJobSelector,o=e.userAvatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userNameSelector=document.querySelector(r),this._userJobSelector=document.querySelector(n),this._userAvatarSelector=document.querySelector(o),this._data={}}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return this._data}},{key:"setUserInfo",value:function(t){this._data=t,this._userNameSelector.textContent=t.name,this._userJobSelector.textContent=t.about}},{key:"setUserAvatar",value:function(t){var e=this;this._data=t,this._userAvatarSelector.src=t.avatar,this._userAvatarSelector.onerror=function(){e._userAvatarSelector.src="https://raw.githubusercontent.com/genevy/mesto/main/src/images/avatar_placeholder.svg"}}}])&&N(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!==F(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===F(e)?e:String(e)}var z=function(){function t(e,r){var n,o,i,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(){return u._inputList.some((function(t){return!t.validity.valid}))},(o=M(o="_hasInvalidInput"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this._validationParameters=e,this._formElement=r,this._buttonElement=this._formElement.querySelector(this._validationParameters.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._validationParameters.inputSelector))}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t,e){var r=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._validationParameters.inputErrorClass),r.textContent=e,r.classList.add(this._validationParameters.inputErrorActive)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._validationParameters.inputErrorClass),e.classList.remove(this._validationParameters.inputErrorActive),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.setAttribute("disabled",!0):this._buttonElement.removeAttribute("disabled")}},{key:"clearValidation",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))}))}}])&&H(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$(o)?o:String(o)),n)}var o}var K=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var e,r;return e=t,(r=[{key:"_handleReply",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleReply)}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleReply)}},{key:"updateUserInfo",value:function(t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then(this._handleReply)}},{key:"addNewCard",value:function(t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then(this._handleReply)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"setLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then(this._handleReply)}},{key:"deleteLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"updateUserAvatar",value:function(t){return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify(t)}).then(this._handleReply)}}])&&G(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W=new z(t,n);W.enableValidation();var X=new z(t,s);X.enableValidation();var Y=new z(t,u);Y.enableValidation();var Z=new J({userNameSelector:".profile__name",userJobSelector:".profile__about",userAvatarSelector:".profile__image"}),tt=new T(".popup_type_edit",(function(t){return it.updateUserInfo(t).then((function(t){Z.setUserInfo(t)})).catch((function(t){console.log("ERROR",t)}))})),et=new P(".popup_type_image"),rt=new T(".popup_type_card",(function(t){return it.addNewCard(t).then((function(t){at.addItem(ut(t))})).catch((function(t){console.log("ERROR",t)}))})),nt=new T(".popup_type_avatar",(function(t){return it.updateUserAvatar(t).then((function(t){Z.setUserAvatar(t)})).catch((function(t){console.log("ERROR",t)}))})),ot=new U(".popup_type_confirm"),it=new K({url:"https://mesto.nomoreparties.co/v1/cohort-61",headers:{"Content-Type":"application/json",authorization:"abeb6987-1131-4a8c-8e13-4ece746c8e7b"}});function ut(t){t.currentUser=Z.getUserInfo();var e=new y(t,"#card",{onClick:ct,onLike:function(t,r){e.isLike()?it.deleteLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("ERROR",t)})):it.setLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("ERROR",t)}))},onDelete:function(t,e){ot.open(),ot.setConfirmAction((function(){it.deleteCard(t._id).then((function(){ot.close(),e()})).catch((function(t){console.log("ERROR",t)}))}))}});return e.generateCard()}Promise.all([it.getUserInfo(),it.getAllCards()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];Z.setUserInfo(o),Z.setUserAvatar(o),at.renderItems(i)})).catch((function(t){console.log(t)}));var at=new d({renderer:function(t){at.addItem(ut(t))}},".photo__list");function ct(t,e){et.open(t,e)}ot.setEventListeners(),tt.setEventListeners(),nt.setEventListeners(),rt.setEventListeners(),r.addEventListener("click",(function(){var t;W.toggleButtonState(),tt.open(),t=Z.getUserInfo(),o.value=t.name,i.value=t.about})),l.addEventListener("click",(function(){rt.open(),X.clearValidation()})),a.addEventListener("click",(function(){nt.open(),Y.clearValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb250c3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdmFsaWRhdGlvblBhcmFtZXRlcnMgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmZvcm1fX3NhdmUtYnV0dG9uJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGlucHV0RXJyb3JBY3RpdmU6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnXG59O1xuXG5jb25zdCBwcm9maWxlVXNlciA9IHtcbiAgdXNlck5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJyxcbiAgdXNlckpvYlNlbGVjdG9yOiAnLnByb2ZpbGVfX2Fib3V0JyxcbiAgdXNlckF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2ltYWdlJ1xufVxuXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9lZGl0Jyk7XG5jb25zdCBidXR0b25PcGVuUG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBmb3JtRWxlbWVudFByb2ZpbGUgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbmNvbnN0IG5hbWVJbnB1dCA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV91c2VyLW5hbWUnKTtcbmNvbnN0IGpvYklucHV0ID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2Fib3V0Jyk7XG5jb25zdCBwb3B1cEFkZEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2F2YXRhcicpO1xuY29uc3QgZm9ybUFkZEF2YXRhciA9IHBvcHVwQWRkQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG5jb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5jb25zdCBwb3B1cEFkZE5ld0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9jYXJkJyk7XG5jb25zdCBidXR0b25PcGVuQWRkTmV3Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5jb25zdCBmb3JtRWxlbWVudENhcmQgPSBwb3B1cEFkZE5ld0NhcmQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcblxuY29uc3QgYXBpUGFyYW1ldGVycyA9IHtcbiAgdXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjFcIixcbiAgaGVhZGVyczoge1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIFwiYXV0aG9yaXphdGlvblwiOiBcImFiZWI2OTg3LTExMzEtNGE4Yy04ZTEzLTRlY2U3NDZjOGU3YlwiLFxuICB9XG59O1xuXG5leHBvcnQge1xuICB2YWxpZGF0aW9uUGFyYW1ldGVycyxcbiAgcHJvZmlsZVVzZXIsXG4gIHBvcHVwUHJvZmlsZSxcbiAgYnV0dG9uT3BlblBvcHVwUHJvZmlsZSxcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxuICBuYW1lSW5wdXQsXG4gIGpvYklucHV0LFxuICBwb3B1cEFkZE5ld0NhcmQsXG4gIGZvcm1BZGRBdmF0YXIsXG4gIGF2YXRhcixcbiAgYnV0dG9uT3BlbkFkZE5ld0NhcmQsXG4gIGZvcm1FbGVtZW50Q2FyZCxcbiAgYXBpUGFyYW1ldGVyc1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihjYXJkRGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5fY2FyZERhdGEgPSBjYXJkRGF0YTtcbiAgICB0aGlzLl9uYW1lID0gY2FyZERhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGNhcmREYXRhLmxpa2VzO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVyLm9uQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVyLm9uTGlrZTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlci5vbkRlbGV0ZTtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgIC5jb250ZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJylcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgY29uc3QgY2FyZFBob3RvID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fcGhvdG8nKTtcbiAgICBjYXJkUGhvdG8uc3JjID0gdGhpcy5fbGluaztcbiAgICBjYXJkUGhvdG8uYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX2NhcmRQaG90byA9IGNhcmRQaG90bztcblxuICAgIGNvbnN0IGNhcmROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKTtcbiAgICBjYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICB0aGlzLl9jYXJkUGhvdG8ub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX2NhcmRQaG90by5zcmMgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2dlbmV2eS9tZXN0by9tYWluL3NyYy9pbWFnZXMvcGxhY2Vob2xkZXIuc3ZnJztcbiAgICAgIHRoaXMuX2NhcmRQaG90by5hbHQgPSBgJHt0aGlzLl9uYW1lfSAtINC60LDRgNGC0LjQvdC60LAg0L3QtSDQt9Cw0LPRgNGD0LbQtdC90LBgO1xuXG4gICAgICBjYXJkTmFtZS50ZXh0Q29udGVudCA9ICfQndC1INC30LDQs9GA0YPQttC10L3QsCc7XG4gICAgfVxuXG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J1dHRvbi1saWtlJyk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWNvdW50ZXInKTtcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9idXR0b25UcmFzaCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3JlY3ljbGUtYmluJyk7XG5cbiAgICBpZighdGhpcy5faXNPd25lckNhcmQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uVHJhc2gucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy50b29nbGVCdXR0b25MaWtlKClcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfaXNPd25lckNhcmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmREYXRhLmN1cnJlbnRVc2VyLl9pZCA9PT0gdGhpcy5fY2FyZERhdGEub3duZXIuX2lkXG4gIH1cblxuICBpc0xpa2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmREYXRhLmxpa2VzLnNvbWUoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLl9pZCA9PT0gdGhpcy5fY2FyZERhdGEuY3VycmVudFVzZXIuX2lkXG4gICAgfSlcbiAgfVxuXG4gIHRvb2dsZUJ1dHRvbkxpa2UoKSB7XG4gICAgaWYgKHRoaXMuaXNMaWtlKCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUxpa2UoKSB7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UoXG4gICAgICB0aGlzLl9jYXJkRGF0YSxcbiAgICAgICh1cGRhdGVkTGlrZSkgPT4ge1xuICAgICAgICB0aGlzLl9jYXJkRGF0YS5saWtlcyA9IHVwZGF0ZWRMaWtlO1xuICAgICAgICB0aGlzLnRvb2dsZUJ1dHRvbkxpa2UoKTtcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9jYXJkRGF0YS5saWtlcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5fY2FyZFBob3RvID0gbnVsbDtcbiAgICB0aGlzLl9idXR0b25MaWtlID0gbnVsbDtcbiAgICB0aGlzLl9idXR0b25UcmFzaCA9IG51bGw7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZFBob3RvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2J1dHRvblRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzLl9jYXJkRGF0YSwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9kZWxldGVDYXJkKCk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKVxuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShjYXJkRWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb3ZlcmxheUNsb3NlID0gdGhpcy5fb3ZlcmxheUNsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBfb3ZlcmxheUNsb3NlKGV2dCkge1xuICAgIGlmIChldnQudGFyZ2V0ID09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpO1xuXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJylcbiAgICB0aGlzLl9wb3B1cEltYWdlVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWNhcHRpb24nKTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9wb3B1cEltYWdlVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2dlbmV2eS9tZXN0by9tYWluL3NyYy9pbWFnZXMvcGxhY2Vob2xkZXIuc3ZnJztcbiAgICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gYCR7bmFtZX0gLSDQutCw0YDRgtC40L3QutCwINC90LUg0LfQsNCz0YDRg9C20LXQvdCwYDtcbiAgICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IGAke25hbWV9IC0g0LrQsNGA0YLQuNC90LrQsCDQvdC1INC30LDQs9GA0YPQttC10L3QsGA7XG4gICAgfVxuXG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5fZm9ybUlucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc2F2ZS1idXR0b24nKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG5cbiAgICB0aGlzLl9mb3JtSW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgaW5pdGlhbFRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLmNsb3NlKCkpXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApKVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gaW5pdGlhbFRleHQ7XG4gICAgICAgIH0pO1xuICAgIH0pXG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGV0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGV0b3IpO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgIHRoaXMuX2NvbmZpcm1TdGVwID0gKCkgPT4ge307XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fY29uZmlybVN0ZXAoKTtcbiAgICB9KTtcblxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBzZXRDb25maXJtQWN0aW9uKGFjdGlvbikge1xuICAgIHRoaXMuX2NvbmZpcm1TdGVwID0gYWN0aW9uO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWVTZWxlY3RvciwgdXNlckpvYlNlbGVjdG9yLCB1c2VyQXZhdGFyU2VsZWN0b3J9KSB7XG4gICAgdGhpcy5fdXNlck5hbWVTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckpvYlNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySm9iU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJBdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhclNlbGVjdG9yKTtcbiAgICB0aGlzLl9kYXRhID0ge307XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl91c2VyTmFtZVNlbGVjdG9yLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3VzZXJKb2JTZWxlY3Rvci50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl91c2VyQXZhdGFyU2VsZWN0b3Iuc3JjID0gZGF0YS5hdmF0YXI7XG5cbiAgICB0aGlzLl91c2VyQXZhdGFyU2VsZWN0b3Iub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3VzZXJBdmF0YXJTZWxlY3Rvci5zcmMgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2dlbmV2eS9tZXN0by9tYWluL3NyYy9pbWFnZXMvYXZhdGFyX3BsYWNlaG9sZGVyLnN2Zyc7XG4gICAgfVxuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25QYXJhbWV0ZXJzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzID0gdmFsaWRhdGlvblBhcmFtZXRlcnM7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzLmlucHV0U2VsZWN0b3IpKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5pbnB1dEVycm9yQWN0aXZlKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5pbnB1dEVycm9yQWN0aXZlKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihhcGlQYXJhbWV0ZXJzKSB7XG4gICAgdGhpcy5fdXJsID0gYXBpUGFyYW1ldGVycy51cmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGFwaVBhcmFtZXRlcnMuaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVSZXBseShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxuXG4gIGdldEFsbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSlcbiAgfVxuXG4gIHVwZGF0ZVVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBkYXRhLm5hbWUsIGFib3V0OiBkYXRhLmFib3V0IH0pXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBhZGROZXdDYXJkKGNhcmREYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZERhdGEpXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBzZXRMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpZH0vbGlrZXNgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBkZWxldGVMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpZH0vbGlrZXNgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICB1cGRhdGVVc2VyQXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcbmltcG9ydCB7XG4gIHZhbGlkYXRpb25QYXJhbWV0ZXJzLFxuICBwcm9maWxlVXNlcixcbiAgYnV0dG9uT3BlblBvcHVwUHJvZmlsZSxcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxuICBuYW1lSW5wdXQsXG4gIGpvYklucHV0LFxuICBmb3JtQWRkQXZhdGFyLFxuICBhdmF0YXIsXG4gIGJ1dHRvbk9wZW5BZGROZXdDYXJkLFxuICBmb3JtRWxlbWVudENhcmQsXG4gIGFwaVBhcmFtZXRlcnNcbn0gZnJvbSAnLi4vdXRpbHMvY29udHN0YW50cy5qcyc7XG5cbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5cbmNvbnN0IGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yICh2YWxpZGF0aW9uUGFyYW1ldGVycywgZm9ybUVsZW1lbnRQcm9maWxlKTtcbmVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yICh2YWxpZGF0aW9uUGFyYW1ldGVycywgZm9ybUVsZW1lbnRDYXJkKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IGFkZEF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAodmFsaWRhdGlvblBhcmFtZXRlcnMsIGZvcm1BZGRBdmF0YXIpO1xuYWRkQXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHVzZXJQcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVVc2VyKTtcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfZWRpdCcsIGNoYW5nZVByb2ZpbGVGb3JtU3VibWl0KTtcbmNvbnN0IHBvcHVwT3BlbkltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdHlwZV9pbWFnZScpO1xuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2NhcmQnLCBjcmVhdGVDYXJkRm9ybVN1Ym1pdCk7XG5jb25zdCBwb3B1cEFkZEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9hdmF0YXInLCBjaGFuZ2VBdmF0YXJGb3JtU3VibWl0KTtcbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKCcucG9wdXBfdHlwZV9jb25maXJtJyk7XG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaVBhcmFtZXRlcnMpO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRBbGxDYXJkcygpXSlcbiAgLnRoZW4oKFtkYXRhLCBpdGVtc10pID0+IHtcbiAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICB1c2VyUHJvZmlsZS5zZXRVc2VyQXZhdGFyKGRhdGEpO1xuICAgIGNhcmRzR2FsZWd5LnJlbmRlckl0ZW1zKGl0ZW1zKTtcbiAgfSlcbiAgLmNhdGNoICgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2cgKGVycik7XG4gIH0pXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY2FyZERhdGEuY3VycmVudFVzZXIgPSB1c2VyUHJvZmlsZS5nZXRVc2VySW5mbygpO1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsICcjY2FyZCcsIHtcbiAgICBvbkNsaWNrOiBoYW5kbGVDYXJkQ2xpY2ssXG5cbiAgICBvbkxpa2U6IChjdXJyZW50Q2FyZERhdGEsIGxpa2VDYWxsYmFjaykgPT4ge1xuICAgICAgaWYgKGNhcmQuaXNMaWtlKCkpIHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmRlbGV0ZUxpa2UoY3VycmVudENhcmREYXRhLl9pZClcbiAgICAgICAgICAudGhlbigodXBkYXRlZENhcmQpID0+IGxpa2VDYWxsYmFjayh1cGRhdGVkQ2FyZC5saWtlcykpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5zZXRMaWtlKGN1cnJlbnRDYXJkRGF0YS5faWQpXG4gICAgICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiBsaWtlQ2FsbGJhY2sodXBkYXRlZENhcmQubGlrZXMpKVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIG9uRGVsZXRlOiAoY3VycmVudENhcmREYXRhLCBkZWxldGVDYWxsYmFjaykgPT4ge1xuICAgICAgcG9wdXBEZWxldGVDYXJkLm9wZW4oKTtcbiAgICAgIHBvcHVwRGVsZXRlQ2FyZC5zZXRDb25maXJtQWN0aW9uKCgpID0+IHtcbiAgICAgICAgYXBpXG4gICAgICAgIC5kZWxldGVDYXJkKGN1cnJlbnRDYXJkRGF0YS5faWQpXG5cbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHBvcHVwRGVsZXRlQ2FyZC5jbG9zZSgpO1xuICAgICAgICAgIGRlbGV0ZUNhbGxiYWNrKClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuY29uc3QgY2FyZHNHYWxlZ3kgPSBuZXcgU2VjdGlvbih7XG4gIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcbiAgICBjYXJkc0dhbGVneS5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZERhdGEpKTtcbiAgfSxcbn0sICcucGhvdG9fX2xpc3QnKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcbiAgcG9wdXBPcGVuSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbn07XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGUoKSB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlclByb2ZpbGUuZ2V0VXNlckluZm8oKTtcbiAgbmFtZUlucHV0LnZhbHVlID0gdXNlckRhdGEubmFtZTtcbiAgam9iSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5hYm91dDtcbn07XG5cbmZ1bmN0aW9uIGNoYW5nZVByb2ZpbGVGb3JtU3VibWl0KGRhdGEpIHtcbiAgcmV0dXJuIGFwaS51cGRhdGVVc2VySW5mbyhkYXRhKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyhkYXRhKVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgfSlcbn07XG5cbmZ1bmN0aW9uIGNoYW5nZUF2YXRhckZvcm1TdWJtaXQoZGF0YSkge1xuICByZXR1cm4gYXBpLnVwZGF0ZVVzZXJBdmF0YXIoZGF0YSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlclByb2ZpbGUuc2V0VXNlckF2YXRhcihkYXRhKVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgfSlcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmRGb3JtU3VibWl0KGRhdGEpIHtcbiAgcmV0dXJuIGFwaS5hZGROZXdDYXJkKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY2FyZHNHYWxlZ3kuYWRkSXRlbShjcmVhdGVDYXJkKHJlcykpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGVycik7XG4gICAgfSlcbn07XG5cbnBvcHVwRGVsZXRlQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBBZGRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5idXR0b25PcGVuUG9wdXBQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XG4gIGhhbmRsZVByb2ZpbGUoKTtcbn0pO1xuXG5idXR0b25PcGVuQWRkTmV3Q2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IuY2xlYXJWYWxpZGF0aW9uKCk7XG59KVxuXG5hdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQWRkQXZhdGFyLm9wZW4oKTtcbiAgYWRkQXZhdGFyRm9ybVZhbGlkYXRvci5jbGVhclZhbGlkYXRpb24oKTtcbn0pIl0sIm5hbWVzIjpbInZhbGlkYXRpb25QYXJhbWV0ZXJzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckFjdGl2ZSIsInBvcHVwUHJvZmlsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUiLCJmb3JtRWxlbWVudFByb2ZpbGUiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImZvcm1BZGRBdmF0YXIiLCJhdmF0YXIiLCJwb3B1cEFkZE5ld0NhcmQiLCJidXR0b25PcGVuQWRkTmV3Q2FyZCIsImZvcm1FbGVtZW50Q2FyZCIsIkNhcmQiLCJjYXJkRGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2NhcmREYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIm9uQ2xpY2siLCJfaGFuZGxlQ2FyZExpa2UiLCJvbkxpa2UiLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIm9uRGVsZXRlIiwia2V5IiwidmFsdWUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RoaXMiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsImNhcmRQaG90byIsInNyYyIsImFsdCIsIl9jYXJkUGhvdG8iLCJjYXJkTmFtZSIsInRleHRDb250ZW50Iiwib25lcnJvciIsImNvbmNhdCIsIl9idXR0b25MaWtlIiwiX2xpa2VDb3VudGVyIiwibGVuZ3RoIiwiX2J1dHRvblRyYXNoIiwiX2lzT3duZXJDYXJkIiwicmVtb3ZlIiwidG9vZ2xlQnV0dG9uTGlrZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImN1cnJlbnRVc2VyIiwiX2lkIiwib3duZXIiLCJfdGhpczIiLCJzb21lIiwiaXRlbSIsImlzTGlrZSIsImNsYXNzTGlzdCIsImFkZCIsIl90aGlzMyIsInVwZGF0ZWRMaWtlIiwiX3RoaXM0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlIiwiX2RlbGV0ZUNhcmQiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJyZXZlcnNlIiwiZm9yRWFjaCIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfb3ZlcmxheUNsb3NlIiwiZXZ0IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX3RoaXNTdXBlciIsImNhbGwiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cEltYWdlVGl0bGUiLCJfZ2V0IiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm0iLCJfZm9ybUlucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9zdWJtaXRCdXR0b24iLCJfZm9ybVZhbHVlcyIsImlucHV0IiwicHJldmVudERlZmF1bHQiLCJpbml0aWFsVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsInRoZW4iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwicmVzZXQiLCJQb3B1cFdpdGhDb25maXJtIiwicG9wdXBTZWxldG9yIiwiX2NvbmZpcm1TdGVwIiwiYWN0aW9uIiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lU2VsZWN0b3IiLCJfdXNlckpvYlNlbGVjdG9yIiwiX3VzZXJBdmF0YXJTZWxlY3RvciIsIl9kYXRhIiwiZGF0YSIsImFib3V0IiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfdmFsaWRhdGlvblBhcmFtZXRlcnMiLCJfZm9ybUVsZW1lbnQiLCJfYnV0dG9uRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiQXBpIiwiYXBpUGFyYW1ldGVycyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJfaGFuZGxlUmVwbHkiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImFkZEF2YXRhckZvcm1WYWxpZGF0b3IiLCJ1c2VyUHJvZmlsZSIsInBvcHVwRWRpdFByb2ZpbGUiLCJhcGkiLCJ1cGRhdGVVc2VySW5mbyIsInNldFVzZXJJbmZvIiwicG9wdXBPcGVuSW1hZ2UiLCJwb3B1cEFkZENhcmQiLCJhZGROZXdDYXJkIiwiY2FyZHNHYWxlZ3kiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsInBvcHVwQWRkQXZhdGFyIiwidXBkYXRlVXNlckF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJwb3B1cERlbGV0ZUNhcmQiLCJnZXRVc2VySW5mbyIsImNhcmQiLCJoYW5kbGVDYXJkQ2xpY2siLCJjdXJyZW50Q2FyZERhdGEiLCJsaWtlQ2FsbGJhY2siLCJkZWxldGVMaWtlIiwidXBkYXRlZENhcmQiLCJzZXRMaWtlIiwiZGVsZXRlQ2FsbGJhY2siLCJvcGVuIiwic2V0Q29uZmlybUFjdGlvbiIsImRlbGV0ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJhbGwiLCJnZXRBbGxDYXJkcyIsIl9yZWYyIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyIsInVzZXJEYXRhIiwiY2xlYXJWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==