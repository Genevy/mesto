(()=>{"use strict";var t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__save-button",inputErrorClass:"form__input_type_error",inputErrorActive:"form__input-error_active"},e=document.querySelector(".popup_type_edit"),r=document.querySelector(".profile__edit-button"),n=e.querySelector(".form"),o=e.querySelector(".form__input_type_user-name"),i=e.querySelector(".form__input_type_about"),u=document.querySelector(".popup_type_avatar").querySelector(".form"),a=document.querySelector(".profile__avatar"),c=document.querySelector(".popup_type_card"),l=document.querySelector(".profile__add-button"),s=c.querySelector(".form");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}var y=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cardData=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._cardSelector=r,this._handleCardClick=n.onClick,this._handleCardLike=n.onLike,this._handleCardDelete=n.onDelete}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){var t=this;this._element=this._getTemplate();var e=this._element.querySelector(".card__photo");e.src=this._link,e.alt=this._name,this._cardPhoto=e;var r=this._element.querySelector(".card__title");return r.textContent=this._name,this._cardPhoto.onerror=function(){t._cardPhoto.src="https://raw.githubusercontent.com/genevy/mesto/main/src/images/placeholder.webp",t._cardPhoto.alt="".concat(t._name," - картинка не загружена"),r.textContent="Фото не найдено"},this._buttonLike=this._element.querySelector(".card__button-like"),this._likeCounter=this._element.querySelector(".card__like-counter"),this._likeCounter.textContent=this._likes.length,this._buttonTrash=this._element.querySelector(".card__recycle-bin"),this._isOwnerCard()||this._buttonTrash.remove(),this.toogleButtonLike(),this._setEventListeners(),this._element}},{key:"_isOwnerCard",value:function(){return this._cardData.currentUser._id===this._cardData.owner._id}},{key:"isLike",value:function(){var t=this;return this._cardData.likes.some((function(e){return e._id===t._cardData.currentUser._id}))}},{key:"toogleButtonLike",value:function(){this.isLike()?this._buttonLike.classList.add("card__button-like_active"):this._buttonLike.classList.remove("card__button-like_active")}},{key:"_handleLike",value:function(){var t=this;this._handleCardLike(this._cardData,(function(e){t._cardData.likes=e,t.toogleButtonLike(),t._likeCounter.textContent=t._cardData.likes.length}))}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null,this._cardPhoto=null,this._buttonLike=null,this._buttonTrash=null}},{key:"_setEventListeners",value:function(){var t=this;this._cardPhoto.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)})),this._buttonLike.addEventListener("click",(function(){t._handleLike()})),this._buttonTrash.addEventListener("click",(function(){t._handleCardDelete(t._cardData,(function(){t._deleteCard()}))}))}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}var v=function(){function t(e,r){var n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=n,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(t){var e=this;t.reverse().forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}var _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._overlayClose=this._overlayClose.bind(this)}var e,r;return e=t,(r=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_overlayClose",value:function(t){t.target==t.currentTarget&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._overlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._overlayClose)}},{key:"setEventListeners",value:function(){var t=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){t.close()}))}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===S(o)?o:String(o)),n)}var o}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(this,arguments)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(o){var r=O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return k(t)}(this,t)});function u(t){var e,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._popupImage=r._popup.querySelector(".popup__image"),r._popupImageTitle=r._popup.querySelector(".popup__image-caption"),E((e=k(r),O(u.prototype)),"setEventListeners",e).call(e),r}return e=u,(r=[{key:"open",value:function(t,e){var r=this;this._popupImage.src=e,this._popupImage.alt=t,this._popupImageTitle.textContent=t,this._popupImage.onerror=function(){r._popupImage.src="https://raw.githubusercontent.com/genevy/images/dev/mesto/placeholder.jpg",r._popupImage.alt="".concat(t," - картинка не загружена"),r._popupImageTitle.textContent="".concat(t," - картинка не загружена")},E(O(u.prototype),"open",this).call(this)}}])&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===j(o)?o:String(o)),n)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},L.apply(this,arguments)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=I(n);if(o){var r=I(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._form=r._popup.querySelector(".form"),r._formInputList=r._form.querySelectorAll(".form__input"),r._handleFormSubmit=e,r._submitButton=r._form.querySelector(".form__save-button"),r}return e=u,(r=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._formInputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;L(I(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault();var r=t._submitButton.textContent;t._submitButton.textContent="Сохранение...",t._handleFormSubmit(t._getInputValues()).then((function(){return t.close()})).catch((function(t){return console.log("Error: ".concat(t))})).finally((function(){t._submitButton.textContent=r}))}))}},{key:"close",value:function(){this._form.reset(),L(I(u.prototype),"close",this).call(this)}}])&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},D.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(n);if(o){var r=B(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".form"),e._confirmStep=function(){},e}return e=u,(r=[{key:"setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t._confirmStep()})),D(B(u.prototype),"setEventListeners",this).call(this)}},{key:"setConfirmAction",value:function(t){this._confirmStep=t}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===V(o)?o:String(o)),n)}var o}var J=function(){function t(e){var r=e.userNameSelector,n=e.userJobSelector,o=e.userAvatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userNameSelector=document.querySelector(r),this._userJobSelector=document.querySelector(n),this._userAvatarSelector=document.querySelector(o),this._data={}}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return this._data}},{key:"setUserInfo",value:function(t){this._data=t,this._userNameSelector.textContent=t.name,this._userJobSelector.textContent=t.about}},{key:"setUserAvatar",value:function(t){this._data=t,this._userAvatarSelector.src=t.avatar}}])&&N(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!==F(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===F(e)?e:String(e)}var z=function(){function t(e,r){var n,o,i,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(){return u._inputList.some((function(t){return!t.validity.valid}))},(o=M(o="_hasInvalidInput"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this._validationParameters=e,this._formElement=r,this._buttonElement=this._formElement.querySelector(this._validationParameters.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._validationParameters.inputSelector))}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t,e){var r=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._validationParameters.inputErrorClass),r.textContent=e,r.classList.add(this._validationParameters.inputErrorActive)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._validationParameters.inputErrorClass),e.classList.remove(this._validationParameters.inputErrorActive),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.setAttribute("disabled",!0):this._buttonElement.removeAttribute("disabled")}},{key:"clearValidation",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))}))}}])&&H(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$(o)?o:String(o)),n)}var o}var K=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var e,r;return e=t,(r=[{key:"_handleReply",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleReply)}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleReply)}},{key:"updateUserInfo",value:function(t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then(this._handleReply)}},{key:"addNewCard",value:function(t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then(this._handleReply)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"setLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then(this._handleReply)}},{key:"deleteLike",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"updateUserAvatar",value:function(t){return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify(t)}).then(this._handleReply)}}])&&G(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var W=new z(t,n);W.enableValidation();var X=new z(t,s);X.enableValidation();var Y=new z(t,u);Y.enableValidation();var Z=new J({userNameSelector:".profile__name",userJobSelector:".profile__about",userAvatarSelector:".profile__image"}),tt=new T(".popup_type_edit",(function(t){return it.updateUserInfo(t).then((function(t){Z.setUserInfo(t)})).catch((function(t){console.log("ERROR",t)}))})),et=new P(".popup_type_image"),rt=new T(".popup_type_card",(function(t){return it.addNewCard(t).then((function(t){at.addItem(ut(t))})).catch((function(t){console.log("ERROR",t)}))})),nt=new T(".popup_type_avatar",(function(t){return it.updateUserAvatar(t).then((function(t){Z.setUserAvatar(t)})).catch((function(t){console.log("ERROR",t)}))})),ot=new U(".popup_type_confirm"),it=new K({url:"https://mesto.nomoreparties.co/v1/cohort-61",headers:{"Content-Type":"application/json",authorization:"abeb6987-1131-4a8c-8e13-4ece746c8e7b"}});function ut(t){t.currentUser=Z.getUserInfo();var e=new y(t,"#card",{onClick:ct,onLike:function(t,r){e.isLike()?it.deleteLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("ERROR",t)})):it.setLike(t._id).then((function(t){return r(t.likes)})).catch((function(t){console.log("ERROR",t)}))},onDelete:function(t,e){ot.open(),ot.setConfirmAction((function(){it.deleteCard(t._id).then((function(){ot.close(),e()})).catch((function(t){console.log("ERROR",t)}))}))}});return e.generateCard()}Promise.all([it.getUserInfo(),it.getAllCards()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];Z.setUserInfo(o),Z.setUserAvatar(o),at.renderItems(i)})).catch((function(t){console.log(t)}));var at=new v({renderer:function(t){at.addItem(ut(t))}},".photo__list");function ct(t,e){et.open(t,e)}ot.setEventListeners(),tt.setEventListeners(),nt.setEventListeners(),rt.setEventListeners(),r.addEventListener("click",(function(){var t;W.toggleButtonState(),tt.open(),t=Z.getUserInfo(),o.value=t.name,i.value=t.about})),l.addEventListener("click",(function(){rt.open(),X.clearValidation()})),a.addEventListener("click",(function(){nt.open(),Y.clearValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQ05DLFFBQVFDLElBQUksUUFBU0YsRUFDdkIsR0FDRixHQUNGLElBSUYsT0FEb0IrRSxFQUFLVyxjQUUzQixDQXBEQXhDLFFBQVF5QyxJQUFJLENBQUMxQixHQUFJYSxjQUFlYixHQUFJMkIsZ0JBQ2pDOUYsTUFBSyxTQUFBN0MsR0FBbUIsSSxJQUFBNEksRyxFQUFBLEUsNENBQUE1SSxJLG8yQkFBakJnRSxFQUFJNEUsRUFBQSxHQUFFdkksRUFBS3VJLEVBQUEsR0FDakI5QixFQUFZSSxZQUFZbEQsR0FDeEI4QyxFQUFZYSxjQUFjM0QsR0FDMUJzRCxHQUFZdUIsWUFBWXhJLEVBQzFCLElBQ0N5QyxPQUFPLFNBQUNDLEdBQ1BDLFFBQVFDLElBQUtGLEVBQ2YsSUE4Q0YsSUFBTXVFLEdBQWMsSUFBSXZILEVBQVEsQ0FDOUJHLFNBQVUsU0FBQzVELEdBQ1RnTCxHQUFZQyxRQUFRQyxHQUFXbEwsR0FDakMsR0FDQyxnQkFFSCxTQUFTeUwsR0FBZ0JsTCxFQUFNRSxHQUM3Qm9LLEdBQWVtQixLQUFLekwsRUFBTUUsRUFDNUIsQ0FzQ0E2SyxHQUFnQmtCLG9CQUNoQi9CLEdBQWlCK0Isb0JBQ2pCckIsR0FBZXFCLG9CQUNmMUIsR0FBYTBCLG9CQUVibE4sRUFBdUJnRSxpQkFBaUIsU0FBUyxXQXpDakQsSUFDUW1KLEVBeUNOckMsRUFBeUJwQixvQkFDekJ5QixHQUFpQnVCLE9BMUNYUyxFQUFXakMsRUFBWWUsY0FDN0IvTCxFQUFVNEIsTUFBUXFMLEVBQVNsTSxLQUMzQmQsRUFBUzJCLE1BQVFxTCxFQUFTOUUsS0EwQzVCLElBRUE5SCxFQUFxQnlELGlCQUFpQixTQUFTLFdBQzdDd0gsR0FBYWtCLE9BQ2IxQixFQUFxQm9DLGlCQUN2QixJQUVBL00sRUFBTzJELGlCQUFpQixTQUFTLFdBQy9CNkgsR0FBZWEsT0FDZnpCLEVBQXVCbUMsaUJBQ3pCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb250c3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdmFsaWRhdGlvblBhcmFtZXRlcnMgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmZvcm1fX3NhdmUtYnV0dG9uJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGlucHV0RXJyb3JBY3RpdmU6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnXG59O1xuXG5jb25zdCBwcm9maWxlVXNlciA9IHtcbiAgdXNlck5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJyxcbiAgdXNlckpvYlNlbGVjdG9yOiAnLnByb2ZpbGVfX2Fib3V0JyxcbiAgdXNlckF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2ltYWdlJ1xufVxuXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9lZGl0Jyk7XG5jb25zdCBidXR0b25PcGVuUG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBmb3JtRWxlbWVudFByb2ZpbGUgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbmNvbnN0IG5hbWVJbnB1dCA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV91c2VyLW5hbWUnKTtcbmNvbnN0IGpvYklucHV0ID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2Fib3V0Jyk7XG5jb25zdCBwb3B1cEFkZEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2F2YXRhcicpO1xuY29uc3QgZm9ybUFkZEF2YXRhciA9IHBvcHVwQWRkQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG5jb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5jb25zdCBwb3B1cEFkZE5ld0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9jYXJkJyk7XG5jb25zdCBidXR0b25PcGVuQWRkTmV3Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5jb25zdCBmb3JtRWxlbWVudENhcmQgPSBwb3B1cEFkZE5ld0NhcmQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcblxuY29uc3QgYXBpUGFyYW1ldGVycyA9IHtcbiAgdXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjFcIixcbiAgaGVhZGVyczoge1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIFwiYXV0aG9yaXphdGlvblwiOiBcImFiZWI2OTg3LTExMzEtNGE4Yy04ZTEzLTRlY2U3NDZjOGU3YlwiLFxuICB9XG59O1xuXG5leHBvcnQge1xuICB2YWxpZGF0aW9uUGFyYW1ldGVycyxcbiAgcHJvZmlsZVVzZXIsXG4gIHBvcHVwUHJvZmlsZSxcbiAgYnV0dG9uT3BlblBvcHVwUHJvZmlsZSxcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxuICBuYW1lSW5wdXQsXG4gIGpvYklucHV0LFxuICBwb3B1cEFkZE5ld0NhcmQsXG4gIGZvcm1BZGRBdmF0YXIsXG4gIGF2YXRhcixcbiAgYnV0dG9uT3BlbkFkZE5ld0NhcmQsXG4gIGZvcm1FbGVtZW50Q2FyZCxcbiAgYXBpUGFyYW1ldGVyc1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihjYXJkRGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5fY2FyZERhdGEgPSBjYXJkRGF0YTtcbiAgICB0aGlzLl9uYW1lID0gY2FyZERhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGNhcmREYXRhLmxpa2VzO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVyLm9uQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVyLm9uTGlrZTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlci5vbkRlbGV0ZTtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgIC5jb250ZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJylcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgY29uc3QgY2FyZFBob3RvID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fcGhvdG8nKTtcbiAgICBjYXJkUGhvdG8uc3JjID0gdGhpcy5fbGluaztcbiAgICBjYXJkUGhvdG8uYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX2NhcmRQaG90byA9IGNhcmRQaG90bztcblxuICAgIGNvbnN0IGNhcmROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKTtcbiAgICBjYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICB0aGlzLl9jYXJkUGhvdG8ub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX2NhcmRQaG90by5zcmMgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2dlbmV2eS9tZXN0by9tYWluL3NyYy9pbWFnZXMvcGxhY2Vob2xkZXIud2VicCc7XG4gICAgICB0aGlzLl9jYXJkUGhvdG8uYWx0ID0gYCR7dGhpcy5fbmFtZX0gLSDQutCw0YDRgtC40L3QutCwINC90LUg0LfQsNCz0YDRg9C20LXQvdCwYDtcblxuICAgICAgY2FyZE5hbWUudGV4dENvbnRlbnQgPSAn0KTQvtGC0L4g0L3QtSDQvdCw0LnQtNC10L3Qvic7XG4gICAgfVxuXG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J1dHRvbi1saWtlJyk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWNvdW50ZXInKTtcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9idXR0b25UcmFzaCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3JlY3ljbGUtYmluJyk7XG5cbiAgICBpZighdGhpcy5faXNPd25lckNhcmQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uVHJhc2gucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy50b29nbGVCdXR0b25MaWtlKClcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfaXNPd25lckNhcmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmREYXRhLmN1cnJlbnRVc2VyLl9pZCA9PT0gdGhpcy5fY2FyZERhdGEub3duZXIuX2lkXG4gIH1cblxuICBpc0xpa2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmREYXRhLmxpa2VzLnNvbWUoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLl9pZCA9PT0gdGhpcy5fY2FyZERhdGEuY3VycmVudFVzZXIuX2lkXG4gICAgfSlcbiAgfVxuXG4gIHRvb2dsZUJ1dHRvbkxpa2UoKSB7XG4gICAgaWYgKHRoaXMuaXNMaWtlKCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUxpa2UoKSB7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UoXG4gICAgICB0aGlzLl9jYXJkRGF0YSxcbiAgICAgICh1cGRhdGVkTGlrZSkgPT4ge1xuICAgICAgICB0aGlzLl9jYXJkRGF0YS5saWtlcyA9IHVwZGF0ZWRMaWtlO1xuICAgICAgICB0aGlzLnRvb2dsZUJ1dHRvbkxpa2UoKTtcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9jYXJkRGF0YS5saWtlcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5fY2FyZFBob3RvID0gbnVsbDtcbiAgICB0aGlzLl9idXR0b25MaWtlID0gbnVsbDtcbiAgICB0aGlzLl9idXR0b25UcmFzaCA9IG51bGw7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZFBob3RvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2J1dHRvblRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzLl9jYXJkRGF0YSwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9kZWxldGVDYXJkKCk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKVxuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShjYXJkRWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb3ZlcmxheUNsb3NlID0gdGhpcy5fb3ZlcmxheUNsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBfb3ZlcmxheUNsb3NlKGV2dCkge1xuICAgIGlmIChldnQudGFyZ2V0ID09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpO1xuXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpXG4gICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1jYXB0aW9uJyk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9nZW5ldnkvaW1hZ2VzL2Rldi9tZXN0by9wbGFjZWhvbGRlci5qcGcnO1xuICAgICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBgJHtuYW1lfSAtINC60LDRgNGC0LjQvdC60LAg0L3QtSDQt9Cw0LPRgNGD0LbQtdC90LBgO1xuICAgICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gYCR7bmFtZX0gLSDQutCw0YDRgtC40L3QutCwINC90LUg0LfQsNCz0YDRg9C20LXQvdCwYDtcbiAgICB9XG5cbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICB0aGlzLl9mb3JtSW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19zYXZlLWJ1dHRvbicpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcblxuICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWV9KTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBpbml0aWFsVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpXG4gICAgICAgIC50aGVuKCgpID0+IHRoaXMuY2xvc2UoKSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvcjogJHtlcnJ9YCkpXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBpbml0aWFsVGV4dDtcbiAgICAgICAgfSk7XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZXRvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZXRvcik7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5fY29uZmlybVN0ZXAgPSAoKSA9PiB7fTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9jb25maXJtU3RlcCgpO1xuICAgIH0pO1xuXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldENvbmZpcm1BY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5fY29uZmlybVN0ZXAgPSBhY3Rpb247XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZVNlbGVjdG9yLCB1c2VySm9iU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3Rvcn0pIHtcbiAgICB0aGlzLl91c2VyTmFtZVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VySm9iU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckF2YXRhclNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyU2VsZWN0b3IpO1xuICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX3VzZXJOYW1lU2VsZWN0b3IudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fdXNlckpvYlNlbGVjdG9yLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoZGF0YSkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX3VzZXJBdmF0YXJTZWxlY3Rvci5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uUGFyYW1ldGVycywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycyA9IHZhbGlkYXRpb25QYXJhbWV0ZXJzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl92YWxpZGF0aW9uUGFyYW1ldGVycy5pbnB1dFNlbGVjdG9yKSk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuaW5wdXRFcnJvckFjdGl2ZSk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25QYXJhbWV0ZXJzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvblBhcmFtZXRlcnMuaW5wdXRFcnJvckFjdGl2ZSk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1cblxuICBjbGVhclZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoYXBpUGFyYW1ldGVycykge1xuICAgIHRoaXMuX3VybCA9IGFwaVBhcmFtZXRlcnMudXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBhcGlQYXJhbWV0ZXJzLmhlYWRlcnM7XG4gIH1cblxuICBfaGFuZGxlUmVwbHkocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICBnZXRBbGxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpXG4gIH1cblxuICB1cGRhdGVVc2VySW5mbyhkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5hYm91dCB9KVxuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgYWRkTmV3Q2FyZChjYXJkRGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmREYXRhKVxuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgZGVsZXRlQ2FyZChpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgc2V0TGlrZShpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9L2xpa2VzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgZGVsZXRlTGlrZShpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9L2xpa2VzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG5cbiAgdXBkYXRlVXNlckF2YXRhcihkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KVxuICB9XG59IiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQge1xuICB2YWxpZGF0aW9uUGFyYW1ldGVycyxcbiAgcHJvZmlsZVVzZXIsXG4gIGJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUsXG4gIGZvcm1FbGVtZW50UHJvZmlsZSxcbiAgbmFtZUlucHV0LFxuICBqb2JJbnB1dCxcbiAgZm9ybUFkZEF2YXRhcixcbiAgYXZhdGFyLFxuICBidXR0b25PcGVuQWRkTmV3Q2FyZCxcbiAgZm9ybUVsZW1lbnRDYXJkLFxuICBhcGlQYXJhbWV0ZXJzXG59IGZyb20gJy4uL3V0aWxzL2NvbnRzdGFudHMuanMnO1xuXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuXG5jb25zdCBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAodmFsaWRhdGlvblBhcmFtZXRlcnMsIGZvcm1FbGVtZW50UHJvZmlsZSk7XG5lZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAodmFsaWRhdGlvblBhcmFtZXRlcnMsIGZvcm1FbGVtZW50Q2FyZCk7XG5hZGRDYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCBhZGRBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IgKHZhbGlkYXRpb25QYXJhbWV0ZXJzLCBmb3JtQWRkQXZhdGFyKTtcbmFkZEF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCB1c2VyUHJvZmlsZSA9IG5ldyBVc2VySW5mbyhwcm9maWxlVXNlcik7XG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2VkaXQnLCBjaGFuZ2VQcm9maWxlRm9ybVN1Ym1pdCk7XG5jb25zdCBwb3B1cE9wZW5JbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3R5cGVfaW1hZ2UnKTtcbmNvbnN0IHBvcHVwQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9jYXJkJywgY3JlYXRlQ2FyZEZvcm1TdWJtaXQpO1xuY29uc3QgcG9wdXBBZGRBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfYXZhdGFyJywgY2hhbmdlQXZhdGFyRm9ybVN1Ym1pdCk7XG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXBXaXRoQ29uZmlybSgnLnBvcHVwX3R5cGVfY29uZmlybScpO1xuY29uc3QgYXBpID0gbmV3IEFwaShhcGlQYXJhbWV0ZXJzKTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0QWxsQ2FyZHMoKV0pXG4gIC50aGVuKChbZGF0YSwgaXRlbXNdKSA9PiB7XG4gICAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8oZGF0YSk7XG4gICAgdXNlclByb2ZpbGUuc2V0VXNlckF2YXRhcihkYXRhKTtcbiAgICBjYXJkc0dhbGVneS5yZW5kZXJJdGVtcyhpdGVtcyk7XG4gIH0pXG4gIC5jYXRjaCAoKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nIChlcnIpO1xuICB9KVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XG4gIGNhcmREYXRhLmN1cnJlbnRVc2VyID0gdXNlclByb2ZpbGUuZ2V0VXNlckluZm8oKTtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmREYXRhLCAnI2NhcmQnLCB7XG4gICAgb25DbGljazogaGFuZGxlQ2FyZENsaWNrLFxuXG4gICAgb25MaWtlOiAoY3VycmVudENhcmREYXRhLCBsaWtlQ2FsbGJhY2spID0+IHtcbiAgICAgIGlmIChjYXJkLmlzTGlrZSgpKSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5kZWxldGVMaWtlKGN1cnJlbnRDYXJkRGF0YS5faWQpXG4gICAgICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiBsaWtlQ2FsbGJhY2sodXBkYXRlZENhcmQubGlrZXMpKVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGlcbiAgICAgICAgICAuc2V0TGlrZShjdXJyZW50Q2FyZERhdGEuX2lkKVxuICAgICAgICAgIC50aGVuKCh1cGRhdGVkQ2FyZCkgPT4gbGlrZUNhbGxiYWNrKHVwZGF0ZWRDYXJkLmxpa2VzKSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywgZXJyKTtcbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBvbkRlbGV0ZTogKGN1cnJlbnRDYXJkRGF0YSwgZGVsZXRlQ2FsbGJhY2spID0+IHtcbiAgICAgIHBvcHVwRGVsZXRlQ2FyZC5vcGVuKCk7XG4gICAgICBwb3B1cERlbGV0ZUNhcmQuc2V0Q29uZmlybUFjdGlvbigoKSA9PiB7XG4gICAgICAgIGFwaVxuICAgICAgICAuZGVsZXRlQ2FyZChjdXJyZW50Q2FyZERhdGEuX2lkKVxuXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBwb3B1cERlbGV0ZUNhcmQuY2xvc2UoKTtcbiAgICAgICAgICBkZWxldGVDYWxsYmFjaygpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywgZXJyKTtcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbmNvbnN0IGNhcmRzR2FsZWd5ID0gbmV3IFNlY3Rpb24oe1xuICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XG4gICAgY2FyZHNHYWxlZ3kuYWRkSXRlbShjcmVhdGVDYXJkKGNhcmREYXRhKSk7XG4gIH0sXG59LCAnLnBob3RvX19saXN0Jyk7XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhuYW1lLCBsaW5rKSB7XG4gIHBvcHVwT3BlbkltYWdlLm9wZW4obmFtZSwgbGluayk7XG59O1xuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlKCkge1xuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJQcm9maWxlLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gdXNlckRhdGEuYWJvdXQ7XG59O1xuXG5mdW5jdGlvbiBjaGFuZ2VQcm9maWxlRm9ybVN1Ym1pdChkYXRhKSB7XG4gIHJldHVybiBhcGkudXBkYXRlVXNlckluZm8oZGF0YSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8oZGF0YSlcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgIH0pXG59O1xuXG5mdW5jdGlvbiBjaGFuZ2VBdmF0YXJGb3JtU3VibWl0KGRhdGEpIHtcbiAgcmV0dXJuIGFwaS51cGRhdGVVc2VyQXZhdGFyKGRhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJQcm9maWxlLnNldFVzZXJBdmF0YXIoZGF0YSlcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgIH0pXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkRm9ybVN1Ym1pdChkYXRhKSB7XG4gIHJldHVybiBhcGkuYWRkTmV3Q2FyZChkYXRhKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGNhcmRzR2FsZWd5LmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnRVJST1InLCBlcnIpO1xuICAgIH0pXG59O1xuXG5wb3B1cERlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQWRkQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYnV0dG9uT3BlblBvcHVwUHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xuICBoYW5kbGVQcm9maWxlKCk7XG59KTtcblxuYnV0dG9uT3BlbkFkZE5ld0NhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQWRkQ2FyZC5vcGVuKCk7XG4gIGFkZENhcmRGb3JtVmFsaWRhdG9yLmNsZWFyVmFsaWRhdGlvbigpO1xufSlcblxuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cEFkZEF2YXRhci5vcGVuKCk7XG4gIGFkZEF2YXRhckZvcm1WYWxpZGF0b3IuY2xlYXJWYWxpZGF0aW9uKCk7XG59KVxuIl0sIm5hbWVzIjpbInZhbGlkYXRpb25QYXJhbWV0ZXJzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckFjdGl2ZSIsInBvcHVwUHJvZmlsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJ1dHRvbk9wZW5Qb3B1cFByb2ZpbGUiLCJmb3JtRWxlbWVudFByb2ZpbGUiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImZvcm1BZGRBdmF0YXIiLCJhdmF0YXIiLCJwb3B1cEFkZE5ld0NhcmQiLCJidXR0b25PcGVuQWRkTmV3Q2FyZCIsImZvcm1FbGVtZW50Q2FyZCIsIkNhcmQiLCJjYXJkRGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2NhcmREYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIm9uQ2xpY2siLCJfaGFuZGxlQ2FyZExpa2UiLCJvbkxpa2UiLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIm9uRGVsZXRlIiwia2V5IiwidmFsdWUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RoaXMiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsImNhcmRQaG90byIsInNyYyIsImFsdCIsIl9jYXJkUGhvdG8iLCJjYXJkTmFtZSIsInRleHRDb250ZW50Iiwib25lcnJvciIsImNvbmNhdCIsIl9idXR0b25MaWtlIiwiX2xpa2VDb3VudGVyIiwibGVuZ3RoIiwiX2J1dHRvblRyYXNoIiwiX2lzT3duZXJDYXJkIiwicmVtb3ZlIiwidG9vZ2xlQnV0dG9uTGlrZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImN1cnJlbnRVc2VyIiwiX2lkIiwib3duZXIiLCJfdGhpczIiLCJzb21lIiwiaXRlbSIsImlzTGlrZSIsImNsYXNzTGlzdCIsImFkZCIsIl90aGlzMyIsInVwZGF0ZWRMaWtlIiwiX3RoaXM0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlIiwiX2RlbGV0ZUNhcmQiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJyZXZlcnNlIiwiZm9yRWFjaCIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfb3ZlcmxheUNsb3NlIiwiZXZ0IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX3RoaXNTdXBlciIsImNhbGwiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cEltYWdlVGl0bGUiLCJfZ2V0IiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm0iLCJfZm9ybUlucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9zdWJtaXRCdXR0b24iLCJfZm9ybVZhbHVlcyIsImlucHV0IiwicHJldmVudERlZmF1bHQiLCJpbml0aWFsVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsInRoZW4iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwicmVzZXQiLCJQb3B1cFdpdGhDb25maXJtIiwicG9wdXBTZWxldG9yIiwiX2NvbmZpcm1TdGVwIiwiYWN0aW9uIiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lU2VsZWN0b3IiLCJfdXNlckpvYlNlbGVjdG9yIiwiX3VzZXJBdmF0YXJTZWxlY3RvciIsIl9kYXRhIiwiZGF0YSIsImFib3V0IiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfdmFsaWRhdGlvblBhcmFtZXRlcnMiLCJfZm9ybUVsZW1lbnQiLCJfYnV0dG9uRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiQXBpIiwiYXBpUGFyYW1ldGVycyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJfaGFuZGxlUmVwbHkiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImFkZEF2YXRhckZvcm1WYWxpZGF0b3IiLCJ1c2VyUHJvZmlsZSIsInBvcHVwRWRpdFByb2ZpbGUiLCJhcGkiLCJ1cGRhdGVVc2VySW5mbyIsInNldFVzZXJJbmZvIiwicG9wdXBPcGVuSW1hZ2UiLCJwb3B1cEFkZENhcmQiLCJhZGROZXdDYXJkIiwiY2FyZHNHYWxlZ3kiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsInBvcHVwQWRkQXZhdGFyIiwidXBkYXRlVXNlckF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJwb3B1cERlbGV0ZUNhcmQiLCJnZXRVc2VySW5mbyIsImNhcmQiLCJoYW5kbGVDYXJkQ2xpY2siLCJjdXJyZW50Q2FyZERhdGEiLCJsaWtlQ2FsbGJhY2siLCJkZWxldGVMaWtlIiwidXBkYXRlZENhcmQiLCJzZXRMaWtlIiwiZGVsZXRlQ2FsbGJhY2siLCJvcGVuIiwic2V0Q29uZmlybUFjdGlvbiIsImRlbGV0ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJhbGwiLCJnZXRBbGxDYXJkcyIsIl9yZWYyIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyIsInVzZXJEYXRhIiwiY2xlYXJWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==